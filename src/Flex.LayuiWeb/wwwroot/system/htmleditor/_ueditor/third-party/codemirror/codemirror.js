var CodeMirror=(function(){function H(CA,Bz){var Ax={},Bp=H.defaults;for(var AE in Bp){if(Bp.hasOwnProperty(AE)){Ax[AE]=(Bz&&Bz.hasOwnProperty(AE)?Bz:Bp)[AE]}}var AB=Ax["document"];var BB=AB.createElement("div");BB.className="CodeMirror"+(Ax.lineWrapping?" CodeMirror-wrap":"");BB.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px;" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden"></div><pre class="CodeMirror-cursor">&#160;</pre><div></div></div></div></div></div></div>';if(CA.appendChild){CA.appendChild(BB)}else{CA(BB)}var Bu=BB.firstChild,BY=Bu.firstChild,Ah=BB.lastChild,B6=Ah.firstChild,Bn=B6.firstChild,AK=Bn.firstChild,As=AK.firstChild,AY=AK.nextSibling.firstChild,Ay=AY.firstChild,Cu=Ay.nextSibling,Cr=Cu.nextSibling;Ad();if(/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)){BY.style.width="0px"}if(!c){AY.draggable=true}if(Ax.tabindex!=null){BY.tabIndex=Ax.tabindex}if(!Ax.gutter&&!Ax.lineNumbers){AK.style.display="none"}try{Cz("x")}catch(Ap){if(Ap.message.match(/runtime/i)){Ap=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")}throw Ap}var AU=new m(),Ai=new m(),Aw;var B2,Cl=new Y([new T([new S("")])]),Cx,Bl;Bk();var Cp={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false};var A7,Bj,Bm,Cc,BN=false;var Bv,Ca,Bb,Ar,B8,BW,BJ,Ae;var AN=0,Bw=0,BK=0,BX=0;var Ac;var Bt="",Cf,BO=Ce();A6(function(){AJ(Ax.value||"");Bv=false})();var Ct=new r();p(Ah,"mousedown",A6(BM));p(Ah,"dblclick",A6(BE));p(AY,"dragstart",BZ);p(AY,"selectstart",d);if(!a){p(Ah,"contextmenu",BH)}p(Ah,"scroll",function(){CC([]);if(Ax.fixedGutter){AK.style.left=Ah.scrollLeft+"px"}if(Ax.onScroll){Ax.onScroll(CF)}});p(window,"resize",function(){CC(true)});p(BY,"keyup",A6(A5));p(BY,"input",Bg);p(BY,"keydown",A6(B0));p(BY,"keypress",A6(Bi));p(BY,"focus",AL);p(BY,"blur",AG);p(Ah,"dragenter",w);p(Ah,"dragover",w);p(Ah,"drop",A6(Ag));p(Ah,"paste",function(){B3();Bg()});p(BY,"paste",Bg);p(BY,"cut",A6(function(){AX("")}));var Cw;try{Cw=(AB.activeElement==BY)}catch(Ap){}if(Cw){setTimeout(AL,20)}else{AG()}function Cq(CG){return CG>=0&&CG<Cl.size}var CF=BB.CodeMirror={getValue:BQ,setValue:A6(AJ),getSelection:Cg,replaceSelection:A6(AX),focus:function(){B3();AL();Bg()},setOption:function(CH,CG){var CI=Ax[CH];Ax[CH]=CG;if(CH=="mode"||CH=="indentUnit"){Bk()}else{if(CH=="readOnly"&&CG){AG();BY.blur()}else{if(CH=="theme"){Ad()}else{if(CH=="lineWrapping"&&CI!=CG){A6(Cb)()}else{if(CH=="tabSize"){A6(A2)()}}}}}if(CH=="lineNumbers"||CH=="gutter"||CH=="firstLineNumber"||CH=="theme"){A6(Aq)()}},getOption:function(CG){return Ax[CG]},undo:A6(AP),redo:A6(AT),indentLine:A6(function(CG,CH){if(Cq(CG)){Ak(CG,CH==null?"smart":CH?"add":"subtract")}}),indentSelection:A6(A0),historySize:function(){return{undo:Ct.done.length,redo:Ct.undone.length}},clearHistory:function(){Ct=new r()},matchBrackets:A6(function(){Am(true)}),getTokenAt:A6(function(CG){CG=Cd(CG);return Bh(CG.line).getTokenAt(B2,A9(CG.line),CG.ch)}),getStateAfter:function(CG){CG=AA(CG==null?Cl.size-1:CG);return A9(CG+1)},cursorCoords:function(CG){if(CG==null){CG=Cp.inverted}return Cy(CG?Cp.from:Cp.to)},charCoords:function(CG){return Cy(Cd(CG))},coordsChar:function(CH){var CG=b(AY);return CB(CH.x-CG.left,CH.y-CG.top)},markText:A6(AI),setBookmark:AH,setMarker:A6(Co),clearMarker:A6(BU),setLineClass:A6(Be),hideLine:A6(function(CG){return Cj(CG,true)}),showLine:A6(function(CG){return Cj(CG,false)}),onDeleteLine:function(CG,CH){if(typeof CG=="number"){if(!Cq(CG)){return null}CG=Bh(CG)}(CG.handlers||(CG.handlers=[])).push(CH);return CG},lineInfo:At,addWidget:function(CM,CG,CO,CJ,CN){CM=Bq(Cd(CM));var CH=CM.yBot,CI=CM.x;CG.style.position="absolute";B6.appendChild(CG);if(CJ=="over"){CH=CM.y}else{if(CJ=="near"){var CL=Math.max(Ah.offsetHeight,Cl.height*By()),CK=Math.max(B6.clientWidth,AY.clientWidth)-BS();if(CM.yBot+CG.offsetHeight>CL&&CM.y>CG.offsetHeight){CH=CM.y-CG.offsetHeight}if(CI+CG.offsetWidth>CK){CI=CK-CG.offsetWidth}}}CG.style.top=(CH+Al())+"px";CG.style.left=CG.style.right="";if(CN=="right"){CI=B6.clientWidth-CG.offsetWidth;CG.style.right="0px"}else{if(CN=="left"){CI=0}else{if(CN=="middle"){CI=(B6.clientWidth-CG.offsetWidth)/2}}CG.style.left=(CI+BS())+"px"}if(CO){Az(CI,CH,CI+CG.offsetWidth,CH+CG.offsetHeight)}},lineCount:function(){return Cl.size},clipPos:Cd,getCursor:function(CG){if(CG==null){CG=Cp.inverted}return F(CG?Cp.from:Cp.to)},somethingSelected:function(){return !D(Cp.from,Cp.to)},setCursor:A6(function(CG,CI,CH){if(CI==null&&typeof CG.line=="number"){BR(CG.line,CG.ch,CH)}else{BR(CG,CI,CH)}}),setSelection:A6(function(CG,CH,CI){(CI?Bo:BF)(Cd(CG),Cd(CH||CG))}),getLine:function(CG){if(Cq(CG)){return Bh(CG).text}},getLineHandle:function(CG){if(Cq(CG)){return Bh(CG)}},setLine:A6(function(CG,CH){if(Cq(CG)){Au(CH,{line:CG,ch:0},{line:CG,ch:Bh(CG).text.length})}}),removeLine:A6(function(CG){if(Cq(CG)){Au("",{line:CG,ch:0},Cd({line:CG+1,ch:0}))}}),replaceRange:A6(Au),getRange:function(CG,CH){return Af(Cd(CG),Cd(CH))},execCommand:function(CG){return X[CG](CF)},moveH:A6(BL),deleteH:A6(Ab),moveV:A6(CE),toggleOverwrite:function(){BN=!BN},posFromIndex:function(CG){var CI=0,CH;Cl.iter(0,Cl.size,function(CJ){var CK=CJ.text.length+1;if(CK>CG){CH=CG;return true}CG-=CK;++CI});return Cd({line:CI,ch:CH})},indexFromPos:function(CG){if(CG.line<0||CG.ch<0){return 0}var CH=CG.ch;Cl.iter(0,CG.line,function(CI){CH+=CI.text.length+1});return CH},operation:function(CG){return A6(CG)()},refresh:function(){CC(true)},getInputField:function(){return BY},getWrapperElement:function(){return BB},getScrollerElement:function(){return Ah},getGutterElement:function(){return AK}};function Bh(CG){return k(Cl,CG)}function Cn(CI,CG){BJ=true;var CJ=CG-CI.height;for(var CH=CI;CH;CH=CH.parent){CH.height+=CJ}}function AJ(CH){var CG={line:0,ch:0};BD(CG,{line:Cl.size-1,ch:Bh(Cl.size-1).text.length},t(CH),CG,CG);Bv=true}function BQ(CG){var CH=[];Cl.iter(0,Cl.size,function(CI){CH.push(CI.text)});return CH.join("\n")}function BM(CL){A4(CL.shiftKey);for(var CJ=M(CL);CJ!=BB;CJ=CJ.parentNode){if(CJ.parentNode==B6&&CJ!=Bn){return}}for(var CJ=M(CL);CJ!=BB;CJ=CJ.parentNode){if(CJ.parentNode==As){if(Ax.onGutterClick){Ax.onGutterClick(CF,l(As.childNodes,CJ)+Bw,CL)}return d(CL)}}var CN=AW(CL);switch(I(CL)){case 3:if(a&&!n){BH(CL)}return;case 2:if(CN){BR(CN.line,CN.ch,true)}return}if(!CN){if(M(CL)==Ah){d(CL)}return}if(!Bl){AL()}var CI=+new Date;if(Bm&&Bm.time>CI-400&&D(Bm.pos,CN)){d(CL);setTimeout(B3,20);return A8(CN.line)}else{if(Bj&&Bj.time>CI-400&&D(Bj.pos,CN)){Bm={time:CI,pos:CN};d(CL);return Bc(CN)}else{Bj={time:CI,pos:CN}}}var CO=CN,CK;if(g&&!D(Cp.from,Cp.to)&&!V(CN,Cp.from)&&!V(Cp.to,CN)){if(c){AY.draggable=true}var CG=p(AB,"mouseup",A6(function(CP){if(c){AY.draggable=false}Cc=false;CG();if(Math.abs(CL.clientX-CP.clientX)+Math.abs(CL.clientY-CP.clientY)<10){d(CP);BR(CN.line,CN.ch,true);B3()}}),true);Cc=true;return}d(CL);BR(CN.line,CN.ch,true);function CH(CQ){var CR=AW(CQ,true);if(CR&&!D(CR,CO)){if(!Bl){AL()}CO=CR;Bo(CN,CR);Bv=false;var CP=Bx();if(CR.line>=CP.to||CR.line<CP.from){CK=setTimeout(A6(function(){CH(CQ)}),150)}}}var CM=p(AB,"mousemove",A6(function(CP){clearTimeout(CK);d(CP);CH(CP)}),true);var CG=p(AB,"mouseup",A6(function(CP){clearTimeout(CK);var CQ=AW(CP);if(CQ){Bo(CN,CQ)}d(CP);B3();Bv=true;CM();CG()}),true)}function BE(CI){for(var CG=M(CI);CG!=BB;CG=CG.parentNode){if(CG.parentNode==As){return d(CI)}}var CH=AW(CI);if(!CH){return}Bm={time:+new Date,pos:CH};d(CI);Bc(CH)}function Ag(CL){CL.preventDefault();var CM=AW(CL,true),CK=CL.dataTransfer.files;if(!CM||Ax.readOnly){return}if(CK&&CK.length&&window.FileReader&&window.File){function CH(CT,CR){var CS=new FileReader;CS.onload=function(){CN[CR]=CS.result;if(++CO==CI){CM=Cd(CM);A6(function(){var CU=Au(CN.join(""),CM,CM);Bo(CM,CU)})()}};CS.readAsText(CT)}var CI=CK.length,CN=Array(CI),CO=0;for(var CG=0;CG<CI;++CG){CH(CK[CG],CG)}}else{try{var CN=CL.dataTransfer.getData("Text");if(CN){var CP=Au(CN,CM,CM);var CQ=Cp.from,CJ=Cp.to;Bo(CM,CP);if(Cc){Au("",CQ,CJ)}B3()}}catch(CL){}}}function BZ(CH){var CG=Cg();f(CG);CH.dataTransfer.setDragImage(B,0,0);CH.dataTransfer.setData("Text",CG)}function Ck(CK){var CG=O[CK.keyCode],CL=R[Ax.keyMap].auto,CI,CJ;if(CG==null||CK.altGraphKey){if(CL){Ax.keyMap=CL}return null}if(CK.altKey){CG="Alt-"+CG}if(CK.ctrlKey){CG="Ctrl-"+CG}if(CK.metaKey){CG="Cmd-"+CG}if(CK.shiftKey&&(CI=U("Shift-"+CG,Ax.extraKeys,Ax.keyMap))){CJ=true}else{CI=U(CG,Ax.extraKeys,Ax.keyMap)}if(typeof CI=="string"){if(X.propertyIsEnumerable(CI)){CI=X[CI]}else{CI=null}}if(CL&&(CI||!j(CK))){Ax.keyMap=CL}if(!CI){return false}if(CJ){var CH=A7;A7=null;CI(CF);A7=CH}else{CI(CF)}d(CK);return true}var Bf=null;function B0(CI){if(!Bl){AL()}var CH=CI.keyCode;if(P&&CH==27){CI.returnValue=false}A4(CH==16||CI.shiftKey);if(Ax.onKeyEvent&&Ax.onKeyEvent(CF,G(CI))){return}var CG=Ck(CI);if(window.opera){Bf=CG?CI.keyCode:null;if(!CG&&(n?CI.metaKey:CI.ctrlKey)&&CI.keyCode==88){AX("")}}}function Bi(CG){if(window.opera&&CG.keyCode==Bf){Bf=null;d(CG);return}if(Ax.onKeyEvent&&Ax.onKeyEvent(CF,G(CG))){return}if(window.opera&&!CG.which&&Ck(CG)){return}if(Ax.electricChars&&B2.electricChars){var CH=String.fromCharCode(CG.charCode==null?CG.keyCode:CG.charCode);if(B2.electricChars.indexOf(CH)>-1){setTimeout(A6(function(){Ak(Cp.to.line,"smart")}),75)}}Bg()}function A5(CG){if(Ax.onKeyEvent&&Ax.onKeyEvent(CF,G(CG))){return}if(CG.keyCode==16){A7=null}}function AL(){if(Ax.readOnly){return}if(!Bl){if(Ax.onFocus){Ax.onFocus(CF)}Bl=true;if(BB.className.search(/\bCodeMirror-focused\b/)==-1){BB.className+=" CodeMirror-focused"}if(!BW){AC(true)}}Bs();BT()}function AG(){if(Bl){if(Ax.onBlur){Ax.onBlur(CF)}Bl=false;BB.className=BB.className.replace(" CodeMirror-focused","")}clearInterval(Aw);setTimeout(function(){if(!Bl){A7=null}},150)}function BD(CG,CH,CK,CL,CJ){if(Ct){var CI=[];Cl.iter(CG.line,CH.line+1,function(CM){CI.push(CM.text)});Ct.addChange(CG.line,CK.length,CI);while(Ct.done.length>Ax.undoDepth){Ct.done.shift()}}Br(CG,CH,CK,CL,CJ)}function Ch(CG,CH){var CK=CG.pop();if(CK){var CJ=[],CL=CK.start+CK.added;Cl.iter(CK.start,CL,function(CM){CJ.push(CM.text)});CH.push({start:CK.start,added:CK.old.length,old:CJ});var CI=Cd({line:CK.start+CK.old.length-1,ch:Aa(CJ[CJ.length-1],CK.old[CK.old.length-1])});Br({line:CK.start,ch:0},{line:CL-1,ch:Bh(CL-1).text.length},CK.old,CI,CI);Bv=true}}function AP(){Ch(Ct.done,Ct.undone)}function AT(){Ch(Ct.undone,Ct.done)}function Br(C2,CT,CV,CR,CQ){var CJ=false,CH=Bt.length;if(!Ax.lineWrapping){Cl.iter(C2.line,CT.line,function(C3){if(C3.text.length==CH){CJ=true;return true}})}if(C2.line!=CT.line||CV.length>1){BJ=true}var CN=CT.line-C2.line,CU=Bh(C2.line),CY=Bh(CT.line);if(C2.ch==0&&CT.ch==0&&CV[CV.length-1]==""){var CI=[],CW=null;if(C2.line){CW=Bh(C2.line-1);CW.fixMarkEnds(CY)}else{CY.fixMarkStarts()}for(var CM=0,CX=CV.length-1;CM<CX;++CM){CI.push(S.inheritMarks(CV[CM],CW))}if(CN){Cl.remove(C2.line,CN,Ae)}if(CI.length){Cl.insert(C2.line,CI)}}else{if(CU==CY){if(CV.length==1){CU.replace(C2.ch,CT.ch,CV[0])}else{CY=CU.split(CT.ch,CV[CV.length-1]);CU.replace(C2.ch,null,CV[0]);CU.fixMarkEnds(CY);var CI=[];for(var CM=1,CX=CV.length-1;CM<CX;++CM){CI.push(S.inheritMarks(CV[CM],CU))}CI.push(CY);Cl.insert(C2.line+1,CI)}}else{if(CV.length==1){CU.replace(C2.ch,null,CV[0]);CY.replace(null,CT.ch,"");CU.append(CY);Cl.remove(C2.line+1,CN,Ae)}else{var CI=[];CU.replace(C2.ch,null,CV[0]);CY.replace(null,CT.ch,CV[CV.length-1]);CU.fixMarkEnds(CY);for(var CM=1,CX=CV.length-1;CM<CX;++CM){CI.push(S.inheritMarks(CV[CM],CU))}if(CN>1){Cl.remove(C2.line+1,CN-1,Ae)}Cl.insert(C2.line+1,CI)}}}if(Ax.lineWrapping){var C1=Ah.clientWidth/B4()-3;Cl.iter(C2.line,C2.line+CV.length,function(C4){if(C4.hidden){return}var C3=Math.ceil(C4.text.length/C1)||1;if(C3!=C4.height){Cn(C4,C3)}})}else{Cl.iter(C2.line,CM+CV.length,function(C3){var C4=C3.text;if(C4.length>CH){Bt=C4;CH=C4.length;Cf=null;CJ=false}});if(CJ){CH=0;Bt="";Cf=null;Cl.iter(0,Cl.size,function(C3){var C4=C3.text;if(C4.length>CH){CH=C4.length;Bt=C4}})}}var CS=[],CO=CV.length-CN-1;for(var CM=0,CP=Cx.length;CM<CP;++CM){var CK=Cx[CM];if(CK<C2.line){CS.push(CK)}else{if(CK>CT.line){CS.push(CK+CO)}}}var C0=C2.line+Math.min(CV.length,500);Aj(C2.line,C0);CS.push(C0);Cx=CS;BP(100);Bb.push({from:C2.line,to:CT.line+1,diff:CO});var CZ={from:C2,to:CT,text:CV};if(Ar){for(var CG=Ar;CG.next;CG=CG.next){}CG.next=CZ}else{Ar=CZ}function CL(C3){return C3<=Math.min(CT.line,CT.line+CO)?C3:C3+CO}BF(CR,CQ,CL(Cp.from.line),CL(Cp.to.line));B6.style.height=(Cl.height*By()+2*Al())+"px"}function Au(CI,CG,CH){CG=Cd(CG);if(!CH){CH=CG}else{CH=Cd(CH)}CI=t(CI);function CJ(CL){if(V(CL,CG)){return CL}if(!V(CH,CL)){return CK}var CM=CL.line+CI.length-(CH.line-CG.line)-1;var CN=CL.ch;if(CL.line==CH.line){CN+=CI[CI.length-1].length-(CH.ch-(CH.line==CG.line?CG.ch:0))}return{line:CM,ch:CN}}var CK;CD(CI,CG,CH,function(CL){CK=CL;return{from:CJ(Cp.from),to:CJ(Cp.to)}});return CK}function AX(CH,CG){CD(t(CH),Cp.from,Cp.to,function(CI){if(CG=="end"){return{from:CI,to:CI}}else{if(CG=="start"){return{from:Cp.from,to:Cp.from}}else{return{from:Cp.from,to:CI}}}})}function CD(CJ,CG,CI,CH){var CL=CJ.length==1?CJ[0].length+CG.ch:CJ[CJ.length-1].length;var CK=CH({line:CG.line+CJ.length-1,ch:CL});BD(CG,CI,CJ,CK.from,CK.to)}function Af(CG,CH){var CK=CG.line,CJ=CH.line;if(CK==CJ){return Bh(CK).text.slice(CG.ch,CH.ch)}var CI=[Bh(CK).text.slice(CG.ch)];Cl.iter(CK+1,CJ,function(CL){CI.push(CL.text)});CI.push(Bh(CJ).text.slice(0,CH.ch));return CI.join("\n")}function Cg(){return Af(Cp.from,Cp.to)}var BC=false;function Bs(){if(BC){return}AU.set(Ax.pollInterval,function(){Cv();AS();if(Bl){Bs()}Cs()})}function Bg(){var CG=false;BC=true;function CH(){Cv();var CI=AS();if(!CI&&!CG){CG=true;AU.set(60,CH)}else{BC=false;Bs()}Cs()}AU.set(20,CH)}var Ba="";function AS(){if(BW||!Bl||e(BY)){return false}var CI=BY.value;if(CI==Ba){return false}A7=null;var CG=0,CH=Math.min(Ba.length,CI.length);while(CG<CH&&Ba[CG]==CI[CG]){++CG}if(CG<Ba.length){Cp.from={line:Cp.from.line,ch:Cp.from.ch-(Ba.length-CG)}}else{if(BN&&D(Cp.from,Cp.to)){Cp.to={line:Cp.to.line,ch:Math.min(Bh(Cp.to.line).text.length,Cp.to.ch+(CI.length-CG))}}}AX(CI.slice(CG),"end");Ba=CI;return true}function AC(CG){if(!D(Cp.from,Cp.to)){Ba="";BY.value=Cg();BY.select()}else{if(CG){Ba=BY.value=""}}}function B3(){if(!Ax.readOnly){BY.focus()}}function AR(){if(!Cu.getBoundingClientRect){return}var CG=Cu.getBoundingClientRect();if(P&&CG.top==CG.bottom){return}var CH=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(CG.top<0||CG.bottom>CH){Cu.scrollIntoView()}}function BI(){var CG=Bq(Cp.inverted?Cp.from:Cp.to);var CH=Ax.lineWrapping?Math.min(CG.x,AY.offsetWidth):CG.x;return Az(CH,CG.y,CH,CG.yBot)}function Az(CS,CT,CJ,CK){var CO=BS(),CL=Al(),CN=By();CT+=CL;CK+=CL;CS+=CO;CJ+=CO;var CP=Ah.clientHeight,CR=Ah.scrollTop,CH=false,CM=true;if(CT<CR){Ah.scrollTop=Math.max(0,CT-2*CN);CH=true}else{if(CK>CR+CP){Ah.scrollTop=CK+CN-CP;CH=true}}var CG=Ah.clientWidth,CQ=Ah.scrollLeft;var CI=Ax.fixedGutter?AK.clientWidth:0;if(CS<CQ+CI){if(CS<50){CS=0}Ah.scrollLeft=Math.max(0,CS-10-CI);CH=true}else{if(CJ>CG+CQ-3){Ah.scrollLeft=CJ+10-CG;CH=true;if(CJ>B6.clientWidth){CM=false}}}if(CH&&Ax.onScroll){Ax.onScroll(CF)}return CM}function Bx(){var CG=By(),CH=Ah.scrollTop-Al();var CJ=Math.max(0,Math.floor(CH/CG));var CI=Math.ceil((CH+Ah.clientHeight)/CG);return{from:C(Cl,CJ),to:C(Cl,CI)}}function CC(CR,CH){if(!Ah.clientWidth){Bw=BK=AN=0;return}var CO=Bx();if(CR!==true&&CR.length==0&&CO.from>=Bw&&CO.to<=BK){return}var CN=Math.max(CO.from-100,0),CS=Math.min(Cl.size,CO.to+100);if(Bw<CN&&CN-Bw<20){CN=Bw}if(BK>CS&&BK-CS<20){CS=Math.min(Cl.size,BK)}var CI=CR===true?[]:B9([{from:Bw,to:BK,domStart:0}],CR);var CQ=0;for(var CG=0;CG<CI.length;++CG){var CM=CI[CG];if(CM.from<CN){CM.domStart+=(CN-CM.from);CM.from=CN}if(CM.to>CS){CM.to=CS}if(CM.from>=CM.to){CI.splice(CG--,1)}else{CQ+=CM.to-CM.from}}if(CQ==CS-CN){return}CI.sort(function(CT,CU){return CT.domStart-CU.domStart});var CJ=By(),CK=AK.style.display;Cr.style.display=AK.style.display="none";BV(CN,CS,CI);Cr.style.display="";var CP=CN!=Bw||CS!=BK||BX!=Ah.clientHeight+CJ;if(CP){BX=Ah.clientHeight+CJ}Bw=CN;BK=CS;AN=Q(Cl,CN);Bn.style.top=(AN*CJ)+"px";B6.style.height=(Cl.height*CJ+2*Al())+"px";if(Cr.childNodes.length!=BK-Bw){throw new Error("BAD PATCH! "+JSON.stringify(CI)+" size="+(BK-Bw)+" nodes="+Cr.childNodes.length)}if(Ax.lineWrapping){Cf=Ah.clientWidth;var CL=Cr.firstChild;Cl.iter(Bw,BK,function(CU){if(!CU.hidden){var CT=Math.round(CL.offsetHeight/CJ)||1;if(CU.height!=CT){Cn(CU,CT);BJ=true}}CL=CL.nextSibling})}else{if(Cf==null){Cf=Cz(Bt)}if(Cf>Ah.clientWidth){AY.style.width=Cf+"px";B6.style.width="";B6.style.width=Ah.scrollWidth+"px"}else{AY.style.width=B6.style.width=""}}AK.style.display=CK;if(CP||BJ){A3()}A1();if(!CH&&Ax.onUpdate){Ax.onUpdate(CF)}return true}function B9(CL,CP){for(var CG=0,CJ=CP.length||0;CG<CJ;++CG){var CI=CP[CG],CH=[],CM=CI.diff||0;for(var CO=0,CK=CL.length;CO<CK;++CO){var CN=CL[CO];if(CI.to<=CN.from&&CI.diff){CH.push({from:CN.from+CM,to:CN.to+CM,domStart:CN.domStart})}else{if(CI.to<=CN.from||CI.from>=CN.to){CH.push(CN)}else{if(CI.from>CN.from){CH.push({from:CN.from,to:CI.from,domStart:CN.domStart})}if(CI.to<CN.to){CH.push({from:CI.to+CM,to:CN.to+CM,domStart:CN.domStart+(CI.to-CN.from)})}}}}CL=CH}return CL}function BV(CW,CR,CL){if(!CL.length){Cr.innerHTML=""}else{function CI(CY){var CX=CY.nextSibling;CY.parentNode.removeChild(CY);return CX}var CT=0,CM=Cr.firstChild,CP;for(var CS=0;CS<CL.length;++CS){var CG=CL[CS];while(CG.domStart>CT){CM=CI(CM);CT++}for(var CN=0,CU=CG.to-CG.from;CN<CU;++CN){CM=CM.nextSibling;CT++}}while(CM){CM=CI(CM)}}var CO=CL.shift(),CM=Cr.firstChild,CN=CW;var CJ=Cp.from.line,CK=Cp.to.line,CV=CJ<CW&&CK>=CW;var CQ=AB.createElement("div"),CH;Cl.iter(CW,CR,function(CY){var CZ=null,CX=null;if(CV){CZ=0;if(CK==CN){CV=false;CX=Cp.to.ch}}else{if(CJ==CN){if(CK==CN){CZ=Cp.from.ch;CX=Cp.to.ch}else{CV=true;CZ=Cp.from.ch}}}if(CO&&CO.to==CN){CO=CL.shift()}if(!CO||CO.from>CN){if(CY.hidden){CQ.innerHTML="<pre></pre>"}else{CQ.innerHTML=CY.getHTML(CZ,CX,true,BO)}Cr.insertBefore(CQ.firstChild,CM)}else{CM=CM.nextSibling}++CN})}function A3(){if(!Ax.gutter&&!Ax.lineNumbers){return}var CK=Bn.offsetHeight,CM=Ah.clientHeight;AK.style.height=(CK-CM<2?CM:CK)+"px";var CN=[],CG=Bw;Cl.iter(Bw,Math.max(BK,Bw+1),function(CP){if(CP.hidden){CN.push("<pre></pre>")}else{var CO=CP.gutterMarker;var CR=Ax.lineNumbers?CG+Ax.firstLineNumber:null;if(CO&&CO.text){CR=CO.text.replace("%N%",CR!=null?CR:"")}else{if(CR==null){CR="\u00a0"}}CN.push((CO&&CO.style?'<pre class="'+CO.style+'">':"<pre>"),CR);for(var CQ=1;CQ<CP.height;++CQ){CN.push("<br/>&#160;")}CN.push("</pre>")}++CG});AK.style.display="none";As.innerHTML=CN.join("");var CL=String(Cl.size).length,CI=As.firstChild,CH=y(CI),CJ="";while(CH.length+CJ.length<CL){CJ+="\u00a0"}if(CJ){CI.insertBefore(AB.createTextNode(CJ),CI.firstChild)}AK.style.display="";AY.style.marginLeft=AK.offsetWidth+"px";BJ=false}function A1(){var CH=Cp.inverted?Cp.from:Cp.to,CI=By();var CJ=Bq(CH,true);var CK=b(BB),CG=b(Cr);Bu.style.top=(CJ.y+CG.top-CK.top)+"px";Bu.style.left=(CJ.x+CG.left-CK.left)+"px";if(D(Cp.from,Cp.to)){Cu.style.top=CJ.y+"px";Cu.style.left=(Ax.lineWrapping?Math.min(CJ.x,AY.offsetWidth):CJ.x)+"px";Cu.style.display=""}else{Cu.style.display="none"}}function A4(CG){if(CG){A7=A7||(Cp.inverted?Cp.to:Cp.from)}else{A7=null}}function Bo(CG,CH){var CI=A7&&Cd(A7);if(CI){if(V(CI,CG)){CG=CI}else{if(V(CH,CI)){CH=CI}}}BF(CG,CH);Ca=true}function BF(CG,CH,CI,CJ){B1=null;if(CI==null){CI=Cp.from.line;CJ=Cp.to.line}if(D(Cp.from,CG)&&D(Cp.to,CH)){return}if(V(CH,CG)){var CK=CH;CH=CG;CG=CK}if(CG.line!=CI){CG=Ci(CG,CI,Cp.from.ch)}if(CH.line!=CJ){CH=Ci(CH,CJ,Cp.to.ch)}if(D(CG,CH)){Cp.inverted=false}else{if(D(CG,Cp.to)){Cp.inverted=false}else{if(D(CH,Cp.from)){Cp.inverted=true}}}if(D(CG,CH)){if(!D(Cp.from,Cp.to)){Bb.push({from:CI,to:CJ+1})}}else{if(D(Cp.from,Cp.to)){Bb.push({from:CG.line,to:CH.line+1})}else{if(!D(CG,Cp.from)){if(CG.line<CI){Bb.push({from:CG.line,to:Math.min(CH.line,CI)+1})}else{Bb.push({from:CI,to:Math.min(CJ,CG.line)+1})}}if(!D(CH,Cp.to)){if(CH.line<CJ){Bb.push({from:Math.max(CI,CG.line),to:CJ+1})}else{Bb.push({from:Math.max(CG.line,CJ),to:CH.line+1})}}}}Cp.from=CG;Cp.to=CH;B8=true}function Ci(CI,CH,CK){function CG(CL){var CM=CI.line+CL,CN=CL==1?Cl.size:-1;while(CM!=CN){var CO=Bh(CM);if(!CO.hidden){var CP=CI.ch;if(CP>CK||CP>CO.text.length){CP=CO.text.length}return{line:CM,ch:CP}}CM+=CL}}var CJ=Bh(CI.line);if(!CJ.hidden){return CI}if(CI.line>=CH){return CG(1)||CG(-1)}else{return CG(-1)||CG(1)}}function BR(CH,CJ,CI){var CG=Cd({line:CH,ch:CJ||0});(CI?Bo:BF)(CG,CG)}function AA(CG){return Math.max(0,Math.min(CG,Cl.size-1))}function Cd(CH){if(CH.line<0){return{line:0,ch:0}}if(CH.line>=Cl.size){return{line:Cl.size-1,ch:Bh(Cl.size-1).text.length}}var CI=CH.ch,CG=Bh(CH.line).text.length;if(CI==null||CI>CG){return{line:CH.line,ch:CG}}else{if(CI<0){return{line:CH.line,ch:0}}else{return CH}}}function AF(CJ,CG){var CI=Cp.inverted?Cp.from:Cp.to,CH=CI.line,CO=CI.ch;var CN=Bh(CH);function CK(){for(var CR=CH+CJ,CQ=CJ<0?-1:Cl.size;CR!=CQ;CR+=CJ){var CP=Bh(CR);if(!CP.hidden){CH=CR;CN=CP;return true}}}function CL(CP){if(CO==(CJ<0?0:CN.text.length)){if(!CP&&CK()){CO=CJ<0?CN.text.length:0}else{return false}}else{CO+=CJ}return true}if(CG=="char"){CL()}else{if(CG=="column"){CL(true)}else{if(CG=="word"){var CM=false;for(;;){if(CJ<0){if(!CL()){break}}if(o(CN.text.charAt(CO))){CM=true}else{if(CM){if(CJ<0){CJ=1;CL()}break}}if(CJ>0){if(!CL()){break}}}}}}return{line:CH,ch:CO}}function BL(CG,CH){var CI=CG<0?Cp.from:Cp.to;if(A7||D(Cp.from,Cp.to)){CI=AF(CG,CH)}BR(CI.line,CI.ch,true)}function Ab(CG,CH){if(!D(Cp.from,Cp.to)){Au("",Cp.from,Cp.to)}else{if(CG<0){Au("",AF(CG,CH),Cp.to)}else{Au("",Cp.from,AF(CG,CH))}}Ca=true}var B1=null;function CE(CH,CI){var CG=0,CJ=Bq(Cp.inverted?Cp.from:Cp.to,true);if(B1!=null){CJ.x=B1}if(CI=="page"){CG=Ah.clientHeight}else{if(CI=="line"){CG=By()}}var CK=CB(CJ.x,CJ.y+CG*CH+2);BR(CK.line,CK.ch,true);B1=CJ.x}function Bc(CH){var CI=Bh(CH.line).text;var CG=CH.ch,CJ=CH.ch;while(CG>0&&o(CI.charAt(CG-1))){--CG}while(CJ<CI.length&&o(CI.charAt(CJ))){++CJ}Bo({line:CH.line,ch:CG},{line:CH.line,ch:CJ})}function A8(CG){Bo({line:CG,ch:0},{line:CG,ch:Bh(CG).text.length})}function A0(CI){if(D(Cp.from,Cp.to)){return Ak(Cp.from.line,CI)}var CH=Cp.to.line-(Cp.to.ch?0:1);for(var CG=Cp.from.line;CG<=CH;++CG){Ak(CG,CI)}}function Ak(CJ,CQ){if(!CQ){CQ="add"}if(CQ=="smart"){if(!B2.indent){CQ="prev"}else{var CO=A9(CJ)}}var CH=Bh(CJ),CM=CH.indentation(Ax.tabSize),CK=CH.text.match(/^\s*/)[0],CI;if(CQ=="prev"){if(CJ){CI=Bh(CJ-1).indentation(Ax.tabSize)}else{CI=0}}else{if(CQ=="smart"){CI=B2.indent(CO,CH.text.slice(CK.length),CH.text)}else{if(CQ=="add"){CI=CM+Ax.indentUnit}else{if(CQ=="subtract"){CI=CM-Ax.indentUnit}}}}CI=Math.max(0,CI);var CN=CI-CM;if(!CN){if(Cp.from.line!=CJ&&Cp.to.line!=CJ){return}var CL=CK}else{var CL="",CG=0;if(Ax.indentWithTabs){for(var CP=Math.floor(CI/Ax.tabSize);CP;--CP){CG+=Ax.tabSize;CL+="\t"}}while(CG<CI){++CG;CL+=" "}}Au(CL,{line:CJ,ch:0},{line:CJ,ch:CK.length})}function Bk(){B2=H.getMode(Ax,Ax.mode);Cl.iter(0,Cl.size,function(CG){CG.stateAfter=null});Cx=[0];BP()}function Aq(){var CG=Ax.gutter||Ax.lineNumbers;AK.style.display=CG?"":"none";if(CG){BJ=true}else{Cr.parentNode.style.marginLeft=0}}function Cb(CG,CH){if(Ax.lineWrapping){BB.className+=" CodeMirror-wrap";var CI=Ah.clientWidth/B4()-3;Cl.iter(0,Cl.size,function(CK){if(CK.hidden){return}var CJ=Math.ceil(CK.text.length/CI)||1;if(CJ!=1){Cn(CK,CJ)}});AY.style.width=B6.style.width=""}else{BB.className=BB.className.replace(" CodeMirror-wrap","");Cf=null;Bt="";Cl.iter(0,Cl.size,function(CJ){if(CJ.height!=1&&!CJ.hidden){Cn(CJ,1)}if(CJ.text.length>Bt.length){Bt=CJ.text}})}Bb.push({from:0,to:Cl.size})}function Ce(){for(var CG='<span class="cm-tab">',CH=0;CH<Ax.tabSize;++CH){CG+=" "}return CG+"</span>"}function A2(){BO=Ce();CC(true)}function Ad(){Ah.className=Ah.className.replace(/\s*cm-s-\w+/g,"")+Ax.theme.replace(/(^|\s)\s*/g," cm-s-")}function AV(){this.set=[]}AV.prototype.clear=A6(function(){var CK=Infinity,CM=-Infinity;for(var CG=0,CL=this.set.length;CG<CL;++CG){var CI=this.set[CG],CN=CI.marked;if(!CN||!CI.parent){continue}var CJ=J(CI);CK=Math.min(CK,CJ);CM=Math.max(CM,CJ);for(var CH=0;CH<CN.length;++CH){if(CN[CH].set==this.set){CN.splice(CH--,1)}}}if(CK!=Infinity){Bb.push({from:CK,to:CM+1})}});AV.prototype.find=function(){var CJ,CO;for(var CG=0,CK=this.set.length;CG<CK;++CG){var CI=this.set[CG],CM=CI.marked;for(var CH=0;CH<CM.length;++CH){var CN=CM[CH];if(CN.set==this.set){if(CN.from!=null||CN.to!=null){var CL=J(CI);if(CL!=null){if(CN.from!=null){CJ={line:CL,ch:CN.from}}if(CN.to!=null){CO={line:CL,ch:CN.to}}}}}}}return{from:CJ,to:CO}};function AI(CG,CI,CJ){CG=Cd(CG);CI=Cd(CI);var CK=new AV();function CH(CQ,CN,CO,CP){Bh(CQ).addMark(new z(CN,CO,CP,CK.set))}if(CG.line==CI.line){CH(CG.line,CG.ch,CI.ch,CJ)}else{CH(CG.line,CG.ch,null,CJ);for(var CL=CG.line+1,CM=CI.line;CL<CM;++CL){CH(CL,null,null,CJ)}CH(CI.line,null,CI.ch,CJ)}Bb.push({from:CG.line,to:CI.line+1});return CK}function AH(CG){CG=Cd(CG);var CH=new A(CG.ch);Bh(CG.line).addMark(CH);return CH}function Co(CH,CI,CG){if(typeof CH=="number"){CH=Bh(AA(CH))}CH.gutterMarker={text:CI,style:CG};BJ=true;return CH}function BU(CG){if(typeof CG=="number"){CG=Bh(AA(CG))}CG.gutterMarker=null;BJ=true}function B7(CJ,CH){var CG=CJ,CI=CJ;if(typeof CJ=="number"){CI=Bh(AA(CJ))}else{CG=J(CJ)}if(CG==null){return null}if(CH(CI,CG)){Bb.push({from:CG,to:CG+1})}else{return null}return CI}function Be(CH,CG){return B7(CH,function(CI){if(CI.className!=CG){CI.className=CG;return true}})}function Cj(CH,CG){return B7(CH,function(CJ,CI){if(CJ.hidden!=CG){CJ.hidden=CG;Cn(CJ,CG?0:1);if(CG&&(Cp.from.line==CI||Cp.to.line==CI)){BF(Ci(Cp.from,Cp.from.line,Cp.from.ch),Ci(Cp.to,Cp.to.line,Cp.to.ch))}return(BJ=true)}})}function At(CH){if(typeof CH=="number"){if(!Cq(CH)){return null}var CG=CH;CH=Bh(CH);if(!CH){return null}}else{var CG=J(CH);if(CG==null){return null}}var CI=CH.gutterMarker;return{line:CG,handle:CH,text:CH.text,markerText:CI&&CI.text,markerClass:CI&&CI.style,lineClass:CH.className}}function Cz(CG){Ay.innerHTML="<pre><span>x</span></pre>";Ay.firstChild.firstChild.firstChild.nodeValue=CG;return Ay.firstChild.firstChild.offsetWidth||10}function BA(CH,CJ){if(CJ<=0){return 0}var CP=Bh(CH),CO=CP.text;function CS(CT){Ay.innerHTML="<pre><span>"+CP.getHTML(null,null,false,BO,CT)+"</span></pre>";return Ay.firstChild.firstChild.offsetWidth}var CM=0,CK=0,CN=CO.length,CQ;var CR=Math.min(CN,Math.ceil(CJ/B4()));for(;;){var CL=CS(CR);if(CL<=CJ&&CR<CN){CR=Math.min(CN,Math.ceil(CR*1.2))}else{CQ=CL;CN=CR;break}}if(CJ>CQ){return CN}CR=Math.floor(CN*0.8);CL=CS(CR);if(CL<CJ){CM=CR;CK=CL}for(;;){if(CN-CM<=1){return(CQ-CJ>CJ-CK)?CM:CN}var CG=Math.ceil((CM+CN)/2),CI=CS(CG);if(CI>CJ){CN=CG;CQ=CI}else{CM=CG;CK=CI}}}var Ao=Math.floor(Math.random()*16777215).toString(16);function AQ(CI,CM){var CN="";if(Ax.lineWrapping){var CJ=CI.text.indexOf(" ",CM+2);CN=f(CI.text.slice(CM+1,CJ<0?CI.text.length:CJ+(P?5:0)))}Ay.innerHTML="<pre>"+CI.getHTML(null,null,false,BO,CM)+'<span id="CodeMirror-temp-'+Ao+'">'+f(CI.text.charAt(CM)||" ")+"</span>"+CN+"</pre>";var CK=document.getElementById("CodeMirror-temp-"+Ao);var CH=CK.offsetTop,CG=CK.offsetLeft;if(P&&CM&&CH==0&&CG==0){var CL=document.createElement("span");CL.innerHTML="x";CK.parentNode.insertBefore(CL,CK.nextSibling);CH=CL.offsetTop}return{top:CH,left:CG}}function Bq(CJ,CI){var CG,CH=By(),CL=CH*(Q(Cl,CJ.line)-(CI?AN:0));if(CJ.ch==0){CG=0}else{var CK=AQ(Bh(CJ.line),CJ.ch);CG=CK.left;if(Ax.lineWrapping){CL+=Math.max(0,CK.top)}}return{x:CG,y:CL,yBot:CL+CH}}function CB(CJ,CM){if(CM<0){CM=0}var CW=By(),CU=B4(),CQ=AN+Math.floor(CM/CW);var CG=C(Cl,CQ);if(CG>=Cl.size){return{line:Cl.size-1,ch:Bh(Cl.size-1).text.length}}var CH=Bh(CG),CI=CH.text;var CP=Ax.lineWrapping,CV=CP?CQ-Q(Cl,CG):0;if(CJ<=0&&CV==0){return{line:CG,ch:0}}function CK(CZ){var C1=AQ(CH,CZ);if(CP){var C0=Math.round(C1.top/CW);return Math.max(0,C1.left+(C0-CV)*Ah.clientWidth)}return C1.left}var CX=0,CS=0,CR=CI.length,CY;var CN=Math.min(CR,Math.ceil((CJ+CV*Ah.clientWidth*0.9)/CU));for(;;){var CL=CK(CN);if(CL<=CJ&&CN<CR){CN=Math.min(CR,Math.ceil(CN*1.2))}else{CY=CL;CR=CN;break}}if(CJ>CY){return{line:CG,ch:CR}}CN=Math.floor(CR*0.8);CL=CK(CN);if(CL<CJ){CX=CN;CS=CL}for(;;){if(CR-CX<=1){return{line:CG,ch:(CY-CJ>CJ-CS)?CX:CR}}var CO=Math.ceil((CX+CR)/2),CT=CK(CO);if(CT>CJ){CR=CO;CY=CT}else{CX=CO;CS=CT}}}function Cy(CI){var CG=Bq(CI,true),CH=b(AY);return{x:CH.left+CG.x,y:CH.top+CG.y,yBot:CH.top+CG.yBot}}var AD,Cm,Av;function By(){if(Av==null){Av="<pre>";for(var CG=0;CG<49;++CG){Av+="x<br/>"}Av+="x</pre>"}var CH=Cr.clientHeight;if(CH==Cm){return AD}Cm=CH;Ay.innerHTML=Av;AD=Ay.firstChild.offsetHeight/50||1;Ay.innerHTML="";return AD}var AO,AZ=0;function B4(){if(Ah.clientWidth==AZ){return AO}AZ=Ah.clientWidth;return(AO=Cz("x"))}function Al(){return AY.offsetTop}function BS(){return AY.offsetLeft}function AW(CJ,CK){var CI=b(Ah,true),CG,CH;try{CG=CJ.clientX;CH=CJ.clientY}catch(CJ){return null}if(!CK&&(CG-CI.left>Ah.clientWidth||CH-CI.top>Ah.clientHeight)){return null}var CL=b(AY,true);return CB(CG-CL.left,CH-CL.top)}function BH(CJ){var CH=AW(CJ);if(!CH||window.opera){return}if(D(Cp.from,Cp.to)||V(CH,Cp.from)||!V(CH,Cp.to)){A6(BR)(CH.line,CH.ch)}var CG=BY.style.cssText;Bu.style.position="absolute";BY.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(CJ.clientY-5)+"px; left: "+(CJ.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";BW=true;var CK=BY.value=Cg();B3();BY.select();function CL(){var CM=t(BY.value).join("\n");if(CM!=CK){A6(AX)(CM,"end")}Bu.style.position="relative";BY.style.cssText=CG;BW=false;AC(true);Bs()}if(a){w(CJ);var CI=p(window,"mouseup",function(){CI();setTimeout(CL,20)},true)}else{setTimeout(CL,50)}}function BT(){clearInterval(Aw);var CG=true;Cu.style.visibility="";Aw=setInterval(function(){Cu.style.visibility=(CG=!CG)?"":"hidden"},650)}var An={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function Am(CH){var CZ=Cp.inverted?Cp.from:Cp.to,CV=Bh(CZ.line),C0=CZ.ch-1;var CR=(C0>=0&&An[CV.text.charAt(C0)])||An[CV.text.charAt(++C0)];if(!CR){return}var CJ=CR.charAt(0),CN=CR.charAt(1)==">",CS=CN?1:-1,CM=CV.styles;for(var CP=C0+1,CL=0,CT=CM.length;CL<CT;CL+=2){if((CP-=CM[CL].length)<=0){var CO=CM[CL+1];break}}var CW=[CV.text.charAt(C0)],CY=/[(){}[\]]/;function CX(C3,C6,Dc){if(!C3.text){return}var C7=C3.styles,C8=CN?0:C3.text.length-1,C9;for(var C1=CN?0:C7.length-2,C5=CN?C7.length:-2;C1!=C5;C1+=2*CS){var Da=C7[C1];if(C7[C1+1]!=null&&C7[C1+1]!=CO){C8+=CS*Da.length;continue}for(var C2=CN?0:Da.length-1,C4=CN?Da.length:-1;C2!=C4;C2+=CS,C8+=CS){if(C8>=C6&&C8<Dc&&CY.test(C9=Da.charAt(C2))){var Db=An[C9];if(Db.charAt(1)==">"==CN){CW.push(C9)}else{if(CW.pop()!=Db.charAt(0)){return{pos:C8,match:false}}else{if(!CW.length){return{pos:C8,match:true}}}}}}}}for(var CL=CZ.line,CT=CN?Math.min(CL+100,Cl.size):Math.max(-1,CL-100);CL!=CT;CL+=CS){var CV=Bh(CL),CI=CL==CZ.line;var CK=CX(CV,CI&&CN?C0+1:0,CI&&!CN?C0:CV.text.length);if(CK){break}}if(!CK){CK={pos:null,match:false}}var CO=CK.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var CQ=AI({line:CZ.line,ch:C0},{line:CZ.line,ch:C0+1},CO),CG=CK.pos!=null&&AI({line:CL,ch:CK.pos},{line:CL,ch:CK.pos+1},CO);var CU=A6(function(){CQ.clear();CG&&CG.clear()});if(CH){setTimeout(CU,800)}else{Ac=CU}}function B5(CH){var CM,CK;for(var CJ=CH,CG=CH-40;CJ>CG;--CJ){if(CJ==0){return 0}var CL=Bh(CJ-1);if(CL.stateAfter){return CJ}var CI=CL.indentation(Ax.tabSize);if(CK==null||CM>CI){CK=CJ-1;CM=CI}}return CK}function A9(CH){var CI=B5(CH),CG=CI&&Bh(CI-1).stateAfter;if(!CG){CG=h(B2)}else{CG=s(B2,CG)}Cl.iter(CI,CH,function(CJ){CJ.highlight(B2,CG,Ax.tabSize);CJ.stateAfter=s(B2,CG)});if(CI<CH){Bb.push({from:CI,to:CH})}if(CH<Cl.size&&!Bh(CH).stateAfter){Cx.push(CH)}return CG}function Aj(CH,CI){var CG=A9(CH);Cl.iter(CH,CI,function(CJ){CJ.highlight(B2,CG,Ax.tabSize);CJ.stateAfter=s(B2,CG)})}function AM(){var CH=+new Date+Ax.workTime;var CK=Cx.length;while(Cx.length){if(!Bh(Bw).stateAfter){var CL=Bw}else{var CL=Cx.pop()}if(CL>=Cl.size){continue}var CN=B5(CL),CJ=CN&&Bh(CN-1).stateAfter;if(CJ){CJ=s(B2,CJ)}else{CJ=h(B2)}var CI=0,CM=B2.compareStates,CO=false,CG=CN,CP=false;Cl.iter(CG,Cl.size,function(CR){var CS=CR.stateAfter;if(+new Date>CH){Cx.push(CG);BP(Ax.workDelay);if(CO){Bb.push({from:CL,to:CG+1})}return(CP=true)}var CQ=CR.highlight(B2,CJ,Ax.tabSize);if(CQ){CO=true}CR.stateAfter=s(B2,CJ);if(CM){if(CS&&CM(CS,CJ)){return true}}else{if(CQ!==false||!CS){CI=0}else{if(++CI>3&&(!B2.indent||B2.indent(CS,"")==B2.indent(CJ,""))){return true}}}++CG});if(CP){return}if(CO){Bb.push({from:CL,to:CG+1})}}if(CK&&Ax.onHighlightComplete){Ax.onHighlightComplete(CF)}}function BP(CG){if(!Cx.length){return}Ai.set(CG,A6(AM))}function Cv(){Bv=Ca=Ar=null;Bb=[];B8=false;Ae=[]}function Cs(){var CK=false,CJ;if(B8){CK=!BI()}if(Bb.length){CJ=CC(Bb,true)}else{if(B8){A1()}if(BJ){A3()}}if(CK){BI()}if(B8){AR();BT()}if(Bl&&!BW&&(Bv===true||(Bv!==false&&B8))){AC(Ca)}if(B8&&Ax.matchBrackets){setTimeout(A6(function(){if(Ac){Ac();Ac=null}if(D(Cp.from,Cp.to)){Am(false)}}),20)}var CH=Ar,CI=Ae;if(B8&&Ax.onCursorActivity){Ax.onCursorActivity(CF)}if(CH&&Ax.onChange&&CF){Ax.onChange(CF,CH)}for(var CG=0;CG<CI.length;++CG){CI[CG](CF)}if(CJ&&Ax.onUpdate){Ax.onUpdate(CF)}}var Bd=0;function A6(CG){return function(){if(!Bd++){Cv()}try{var CH=CG.apply(this,arguments)}finally{if(!--Bd){Cs()}}return CH}}for(var BG in W){if(W.propertyIsEnumerable(BG)&&!CF.propertyIsEnumerable(BG)){CF[BG]=W[BG]}}return CF}H.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,onKeyEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,document:window.document};var n=/Mac/.test(navigator.platform);var K=/Win/.test(navigator.platform);var u={},q={};H.defineMode=function(Ab,Ac){if(!H.defaults.mode&&Ab!="null"){H.defaults.mode=Ab}u[Ab]=Ac};H.defineMIME=function(Ab,Ac){q[Ab]=Ac};H.getMode=function(Ad,Ae){if(typeof Ae=="string"&&q.hasOwnProperty(Ae)){Ae=q[Ae]}if(typeof Ae=="string"){var Af=Ae,Ac={}}else{if(Ae!=null){var Af=Ae.name,Ac=Ae}}var Ab=u[Af];if(!Ab){if(window.console){console.warn("No mode "+Af+" found, falling back to plain text.")}return H.getMode(Ad,"text/plain")}return Ab(Ad,Ac||{})};H.listModes=function(){var Ac=[];for(var Ab in u){if(u.propertyIsEnumerable(Ab)){Ac.push(Ab)}}return Ac};H.listMIMEs=function(){var Ac=[];for(var Ab in q){if(q.propertyIsEnumerable(Ab)){Ac.push({mime:Ab,mode:q[Ab]})}}return Ac};var W=H.extensions={};H.defineExtension=function(Ab,Ac){W[Ab]=Ac};var X=H.commands={selectAll:function(Ab){Ab.setSelection({line:0,ch:0},{line:Ab.lineCount()-1})},killLine:function(Ae){var Ab=Ae.getCursor(true),Ac=Ae.getCursor(false),Ad=!D(Ab,Ac);if(!Ad&&Ae.getLine(Ab.line).length==Ab.ch){Ae.replaceRange("",Ab,{line:Ab.line+1,ch:0})}else{Ae.replaceRange("",Ab,Ad?Ac:{line:Ab.line})}},deleteLine:function(Ac){var Ab=Ac.getCursor().line;Ac.replaceRange("",{line:Ab,ch:0},{line:Ab})},undo:function(Ab){Ab.undo()},redo:function(Ab){Ab.redo()},goDocStart:function(Ab){Ab.setCursor(0,0,true)},goDocEnd:function(Ab){Ab.setSelection({line:Ab.lineCount()-1},null,true)},goLineStart:function(Ab){Ab.setCursor(Ab.getCursor().line,0,true)},goLineStartSmart:function(Ae){var Ad=Ae.getCursor();var Ab=Ae.getLine(Ad.line),Ac=Math.max(0,Ab.search(/\S/));Ae.setCursor(Ad.line,Ad.ch<=Ac&&Ad.ch?0:Ac,true)},goLineEnd:function(Ab){Ab.setSelection({line:Ab.getCursor().line},null,true)},goLineUp:function(Ab){Ab.moveV(-1,"line")},goLineDown:function(Ab){Ab.moveV(1,"line")},goPageUp:function(Ab){Ab.moveV(-1,"page")},goPageDown:function(Ab){Ab.moveV(1,"page")},goCharLeft:function(Ab){Ab.moveH(-1,"char")},goCharRight:function(Ab){Ab.moveH(1,"char")},goColumnLeft:function(Ab){Ab.moveH(-1,"column")},goColumnRight:function(Ab){Ab.moveH(1,"column")},goWordLeft:function(Ab){Ab.moveH(-1,"word")},goWordRight:function(Ab){Ab.moveH(1,"word")},delCharLeft:function(Ab){Ab.deleteH(-1,"char")},delCharRight:function(Ab){Ab.deleteH(1,"char")},delWordLeft:function(Ab){Ab.deleteH(-1,"word")},delWordRight:function(Ab){Ab.deleteH(1,"word")},indentAuto:function(Ab){Ab.indentSelection("smart")},indentMore:function(Ab){Ab.indentSelection("add")},indentLess:function(Ab){Ab.indentSelection("subtract")},insertTab:function(Ab){Ab.replaceSelection("\t","end")},transposeChars:function(Ad){var Ac=Ad.getCursor(),Ab=Ad.getLine(Ac.line);if(Ac.ch>0&&Ac.ch<Ab.length-1){Ad.replaceRange(Ab.charAt(Ac.ch)+Ab.charAt(Ac.ch-1),{line:Ac.line,ch:Ac.ch-1},{line:Ac.line,ch:Ac.ch+1})}},newlineAndIndent:function(Ab){Ab.replaceSelection("\n","end");Ab.indentLine(Ab.getCursor().line)},toggleOverwrite:function(Ab){Ab.toggleOverwrite()}};var R=H.keyMap={};R.basic={"Left":"goCharLeft","Right":"goCharRight","Up":"goLineUp","Down":"goLineDown","End":"goLineEnd","Home":"goLineStartSmart","PageUp":"goPageUp","PageDown":"goPageDown","Delete":"delCharRight","Backspace":"delCharLeft","Tab":"indentMore","Shift-Tab":"indentLess","Enter":"newlineAndIndent","Insert":"toggleOverwrite"};R.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll",fallthrough:"basic"};R.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",fallthrough:["basic","emacsy"]};R["default"]=n?R.macDefault:R.pcDefault;R.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};function U(Ac,Ab,Ad){function Ae(Af,Aj,Ak){var Ag=Aj[Af];if(Ag!=null){return Ag}if(Ak==null){Ak=Aj.fallthrough}if(Ak==null){return Aj.catchall}if(typeof Ak=="string"){return Ae(Af,R[Ak])}for(var Ai=0,Ah=Ak.length;Ai<Ah;++Ai){Ag=Ae(Af,R[Ak[Ai]]);if(Ag!=null){return Ag}}return null}return Ab?Ae(Ac,Ab,Ad):Ae(Ac,R[Ad])}function j(Ac){var Ab=O[Ac.keyCode];return Ab=="Ctrl"||Ab=="Alt"||Ab=="Shift"||Ab=="Mod"}H.fromTextArea=function(Ac,Ag){if(!Ag){Ag={}}Ag.value=Ac.value;if(!Ag.tabindex&&Ac.tabindex){Ag.tabindex=Ac.tabindex}function Ae(){Ac.value=Af.getValue()}if(Ac.form){var Ah=p(Ac.form,"submit",Ae,true);if(typeof Ac.form.submit=="function"){var Ad=Ac.form.submit;function Ab(){Ae();Ac.form.submit=Ad;Ac.form.submit();Ac.form.submit=Ab}Ac.form.submit=Ab}}Ac.style.display="none";var Af=H(function(Ai){Ac.parentNode.insertBefore(Ai,Ac.nextSibling)},Ag);Af.save=Ae;Af.getTextArea=function(){return Ac};Af.toTextArea=function(){Ae();Ac.parentNode.removeChild(Af.getWrapperElement());Ac.style.display="";if(Ac.form){Ah();if(typeof Ac.form.submit=="function"){Ac.form.submit=Ad}}};return Af};function s(Ae,Ab){if(Ab===true){return Ab}if(Ae.copyState){return Ae.copyState(Ab)}var Ad={};for(var Ac in Ab){var Af=Ab[Ac];if(Af instanceof Array){Af=Af.concat([])}Ad[Ac]=Af}return Ad}H.copyState=s;function h(Ad,Ac,Ab){return Ad.startState?Ad.startState(Ac,Ab):true}H.startState=h;function L(Ac,Ab){this.pos=this.start=0;this.string=Ac;this.tabSize=Ab||8}L.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(Ab){var Ac=this.string.charAt(this.pos);if(typeof Ab=="string"){var Ad=Ac==Ab}else{var Ad=Ac&&(Ab.test?Ab.test(Ac):Ab(Ac))}if(Ad){++this.pos;return Ac}},eatWhile:function(Ac){var Ab=this.pos;while(this.eat(Ac)){}return this.pos>Ab},eatSpace:function(){var Ab=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>Ab},skipToEnd:function(){this.pos=this.string.length},skipTo:function(Ac){var Ab=this.string.indexOf(Ac,this.pos);if(Ab>-1){this.pos=Ab;return true}},backUp:function(Ab){this.pos-=Ab},column:function(){return E(this.string,this.start,this.tabSize)},indentation:function(){return E(this.string,null,this.tabSize)},match:function(Ab,Af,Ae){if(typeof Ab=="string"){function Ad(Ag){return Ae?Ag.toLowerCase():Ag}if(Ad(this.string).indexOf(Ad(Ab),this.pos)==this.pos){if(Af!==false){this.pos+=Ab.length}return true}}else{var Ac=this.string.slice(this.pos).match(Ab);if(Ac&&Af!==false){this.pos+=Ac[0].length}return Ac}},current:function(){return this.string.slice(this.start,this.pos)}};H.StringStream=L;function z(Ab,Ac,Ad,Ae){this.from=Ab;this.to=Ac;this.style=Ad;this.set=Ae}z.prototype={attach:function(Ab){this.set.push(Ab)},detach:function(Ab){var Ac=l(this.set,Ab);if(Ac>-1){this.set.splice(Ac,1)}},split:function(Ad,Ae){if(this.to<=Ad&&this.to!=null){return null}var Ab=this.from<Ad||this.from==null?null:this.from-Ad+Ae;var Ac=this.to==null?null:this.to-Ad+Ae;return new z(Ab,Ac,this.style,this.set)},dup:function(){return new z(null,null,this.style,this.set)},clipTo:function(Ae,Ab,Ad,Ac,Af){if(this.from!=null&&this.from>=Ab){this.from=Math.max(Ac,this.from)+Af}if(this.to!=null&&this.to>Ab){this.to=Ac<this.to?this.to+Af:Ab}if(Ae&&Ac>this.from&&(Ac<this.to||this.to==null)){this.from=null}if(Ad&&(Ab<this.to||this.to==null)&&(Ab>this.from||this.from==null)){this.to=null}},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(Ab){return this.set==Ab.set}};function A(Ab){this.from=Ab;this.to=Ab;this.line=null}A.prototype={attach:function(Ab){this.line=Ab},detach:function(Ab){if(this.line==Ab){this.line=null}},split:function(Ab,Ac){if(Ab<this.from){this.from=this.to=(this.from-Ab)+Ac;return this}},isDead:function(){return this.from>this.to},clipTo:function(Ae,Ab,Ad,Ac,Af){if((Ae||Ab<this.from)&&(Ad||Ac>this.to)){this.from=0;this.to=-1}else{if(this.from>Ab){this.from=this.to=Math.max(Ac,this.from)+Af}}},sameSet:function(Ab){return false},find:function(){if(!this.line||!this.line.parent){return null}return{line:J(this.line),ch:this.from}},clear:function(){if(this.line){var Ab=l(this.line.marked,this);if(Ab!=-1){this.line.marked.splice(Ab,1)}this.line=null}}};function S(Ac,Ab){this.styles=Ab||[Ac,null];this.text=Ac;this.height=1;this.marked=this.gutterMarker=this.className=this.handlers=null;this.stateAfter=this.parent=this.hidden=null}S.inheritMarks=function(Af,Ae){var Ai=new S(Af),Ag=Ae&&Ae.marked;if(Ag){for(var Ab=0;Ab<Ag.length;++Ab){if(Ag[Ab].to==null&&Ag[Ab].style){var Ad=Ai.marked||(Ai.marked=[]),Ah=Ag[Ab];var Ac=Ah.dup();Ad.push(Ac);Ac.attach(Ai)}}}return Ai};S.prototype={replace:function(Ae,Ac,Ag){var Af=[],Ah=this.marked,Aj=Ac==null?this.text.length:Ac;v(0,Ae,this.styles,Af);if(Ag){Af.push(Ag,null)}v(Aj,this.text.length,this.styles,Af);this.styles=Af;this.text=this.text.slice(0,Ae)+Ag+this.text.slice(Aj);this.stateAfter=null;if(Ah){var Ad=Ag.length-(Aj-Ae);for(var Ab=0,Ai=Ah[Ab];Ab<Ah.length;++Ab){Ai.clipTo(Ae==null,Ae||0,Ac==null,Aj,Ad);if(Ai.isDead()){Ai.detach(this);Ah.splice(Ab--,1)}}}},split:function(Af,Ad){var Ae=[Ad,null],Ag=this.marked;v(Af,this.text.length,this.styles,Ae);var Ac=new S(Ad+this.text.slice(Af),Ae);if(Ag){for(var Ab=0;Ab<Ag.length;++Ab){var Ah=Ag[Ab];var Ai=Ah.split(Af,Ad.length);if(Ai){if(!Ac.marked){Ac.marked=[]}Ac.marked.push(Ai);Ai.attach(Ac)}}}return Ac},append:function(Ad){var Ai=this.text.length,Af=Ad.marked,Ae=this.marked;this.text+=Ad.text;v(0,Ad.text.length,Ad.styles,this.styles);if(Ae){for(var Ab=0;Ab<Ae.length;++Ab){if(Ae[Ab].to==null){Ae[Ab].to=Ai}}}if(Af&&Af.length){if(!Ae){this.marked=Ae=[]}outer:for(var Ab=0;Ab<Af.length;++Ab){var Ag=Af[Ab];if(!Ag.from){for(var Ac=0;Ac<Ae.length;++Ac){var Ah=Ae[Ac];if(Ah.to==Ai&&Ah.sameSet(Ag)){Ah.to=Ag.to==null?null:Ag.to+Ai;if(Ah.isDead()){Ah.detach(this);Af.splice(Ab--,1)}continue outer}}}Ae.push(Ag);Ag.attach(this);Ag.from+=Ai;if(Ag.to!=null){Ag.to+=Ai}}}},fixMarkEnds:function(Ag){var Ah=this.marked,Ad=Ag.marked;if(!Ah){return}for(var Af=0;Af<Ah.length;++Af){var Ac=Ah[Af],Ab=Ac.to==null;if(Ab&&Ad){for(var Ae=0;Ae<Ad.length;++Ae){if(Ad[Ae].sameSet(Ac)){Ab=false;break}}}if(Ab){Ac.to=this.text.length}}},fixMarkStarts:function(){var Ac=this.marked;if(!Ac){return}for(var Ab=0;Ab<Ac.length;++Ab){if(Ac[Ab].from==null){Ac[Ab].from=0}}},addMark:function(Ab){Ab.attach(this);if(this.marked==null){this.marked=[]}this.marked.push(Ab);this.marked.sort(function(Ac,Ad){return(Ac.from||0)-(Ad.from||0)})},highlight:function(Ab,Af,Ae){var Al=new L(this.text,Ae),Ah=this.styles,Ai=0;var Ag=false,Ac=Ah[0],Aj;if(this.text==""&&Ab.blankLine){Ab.blankLine(Af)}while(!Al.eol()){var Ak=Ab.token(Al,Af);var Ad=this.text.slice(Al.start,Al.pos);Al.start=Al.pos;if(Ai&&Ah[Ai-1]==Ak){Ah[Ai-2]+=Ad}else{if(Ad){if(!Ag&&(Ah[Ai+1]!=Ak||(Ai&&Ah[Ai-2]!=Aj))){Ag=true}Ah[Ai++]=Ad;Ah[Ai++]=Ak;Aj=Ac;Ac=Ah[Ai]}}if(Al.pos>5000){Ah[Ai++]=this.text.slice(Al.pos);Ah[Ai++]=null;break}}if(Ah.length!=Ai){Ah.length=Ai;Ag=true}if(Ai&&Ah[Ai-2]!=Aj){Ag=true}return Ag||(Ah.length<5&&this.text.length<10?null:false)},getTokenAt:function(Af,Ab,Ae){var Ad=this.text,Ag=new L(Ad);while(Ag.pos<Ae&&!Ag.eol()){Ag.start=Ag.pos;var Ac=Af.token(Ag,Ab)}return{start:Ag.start,end:Ag.pos,string:Ag.current(),className:Ac||null,state:Ab}},indentation:function(Ab){return E(this.text,null,Ab)},getHTML:function(Ae,Af,Ao,Aq,Ar){var Ay=[],Ag=true;if(Ao){Ay.push(this.className?'<pre class="'+this.className+'">':"<pre>")}function Ax(AD,AC){if(!AD){return}if(Ag&&P&&AD.charAt(0)==" "){AD="\u00a0"+AD.slice(1)}Ag=false;if(AC){Ay.push('<span class="',AC,'">',f(AD).replace(/\t/g,Aq),"</span>")}else{Ay.push(f(AD).replace(/\t/g,Aq))}}var Am=this.styles,Au=this.text,Ai=this.marked;if(Ae==Af){Ae=null}var AB=Au.length;if(Ar!=null){AB=Math.min(Ar,AB)}if(!Au&&Ar==null){Ax(" ",Ae!=null&&Af==null?"CodeMirror-selected":null)}else{if(!Ai&&Ae==null){for(var Al=0,Ah=0;Ah<AB;Al+=2){var Ak=Am[Al],Ap=Am[Al+1],An=Ak.length;if(Ah+An>AB){Ak=Ak.slice(0,AB-Ah)}Ah+=An;Ax(Ak,Ap&&"cm-"+Ap)}}else{var Az=0,Al=0,Ac="",Ap,As=0;var Av=-1,Aw=null;function Ad(){if(Ai){Av+=1;Aw=(Av<Ai.length)?Ai[Av]:null}}Ad();while(Az<AB){var AA=AB;var At="";if(Ae!=null){if(Ae>Az){AA=Ae}else{if(Af==null||Af>Az){At=" CodeMirror-selected";if(Af!=null){AA=Math.min(AA,Af)}}}}while(Aw&&Aw.to!=null&&Aw.to<=Az){Ad()}if(Aw){if(Aw.from>Az){AA=Math.min(AA,Aw.from)}else{At+=" "+Aw.style;if(Aw.to!=null){AA=Math.min(AA,Aw.to)}}}for(;;){var Aj=Az+Ac.length;var Ab=Ap;if(At){Ab=Ap?Ap+At:At}Ax(Aj>AA?Ac.slice(0,AA-Az):Ac,Ab);if(Aj>=AA){Ac=Ac.slice(AA-Az);Az=AA;break}Az=Aj;Ac=Am[Al++];Ap="cm-"+Am[Al++]}}if(Ae!=null&&Af==null){Ax(" ","CodeMirror-selected")}}}if(Ao){Ay.push("</pre>")}return Ay.join("")},cleanUp:function(){this.parent=null;if(this.marked){for(var Ab=0,Ac=this.marked.length;Ab<Ac;++Ab){this.marked[Ab].detach(this)}}}};function v(Af,Aj,Ai,Ah){for(var Ab=0,Ag=0,Ad=0;Ag<Aj;Ab+=2){var Ae=Ai[Ab],Ac=Ag+Ae.length;if(Ad==0){if(Ac>Af){Ah.push(Ae.slice(Af-Ag,Math.min(Ae.length,Aj-Ag)),Ai[Ab+1])}if(Ac>=Af){Ad=1}}else{if(Ad==1){if(Ac>Aj){Ah.push(Ae.slice(0,Aj-Ag),Ai[Ab+1])}else{Ah.push(Ae,Ai[Ab+1])}}}Ag=Ac}}function T(Ae){this.lines=Ae;this.parent=null;for(var Ac=0,Ad=Ae.length,Ab=0;Ac<Ad;++Ac){Ae[Ac].parent=this;Ab+=Ae[Ac].height}this.height=Ab}T.prototype={chunkSize:function(){return this.lines.length},remove:function(Ae,Ac,Ab){for(var Ag=Ae,Ah=Ae+Ac;Ag<Ah;++Ag){var Af=this.lines[Ag];this.height-=Af.height;Af.cleanUp();if(Af.handlers){for(var Ad=0;Ad<Af.handlers.length;++Ad){Ab.push(Af.handlers[Ad])}}}this.lines.splice(Ae,Ac)},collapse:function(Ab){Ab.splice.apply(Ab,[Ab.length,0].concat(this.lines))},insertHeight:function(Ac,Af,Ab){this.height+=Ab;this.lines.splice.apply(this.lines,[Ac,0].concat(Af));for(var Ad=0,Ae=Af.length;Ad<Ae;++Ad){Af[Ad].parent=this}},iterN:function(Ac,Ab,Ae){for(var Ad=Ac+Ab;Ac<Ad;++Ac){if(Ae(this.lines[Ac])){return true}}}};function Y(Ad){this.children=Ad;var Ab=0,Ac=0;for(var Ae=0,Af=Ad.length;Ae<Af;++Ae){var Ag=Ad[Ae];Ab+=Ag.chunkSize();Ac+=Ag.height;Ag.parent=this}this.size=Ab;this.height=Ac;this.parent=null}Y.prototype={chunkSize:function(){return this.size},remove:function(Ac,Ad,Ai){this.size-=Ad;for(var Ab=0;Ab<this.children.length;++Ab){var Aj=this.children[Ab],Ah=Aj.chunkSize();if(Ac<Ah){var Ag=Math.min(Ad,Ah-Ac),Ae=Aj.height;Aj.remove(Ac,Ag,Ai);this.height-=Ae-Aj.height;if(Ah==Ag){this.children.splice(Ab--,1);Aj.parent=null}if((Ad-=Ag)==0){break}Ac=0}else{Ac-=Ah}}if(this.size-Ad<25){var Af=[];this.collapse(Af);this.children=[new T(Af)]}},collapse:function(Ad){for(var Ab=0,Ac=this.children.length;Ab<Ac;++Ab){this.children[Ab].collapse(Ad)}},insert:function(Ac,Af){var Ab=0;for(var Ad=0,Ae=Af.length;Ad<Ae;++Ad){Ab+=Af[Ad].height}this.insertHeight(Ac,Af,Ab)},insertHeight:function(Ac,Ae,Aj){this.size+=Ae.length;this.height+=Aj;for(var Ab=0,Af=this.children.length;Ab<Af;++Ab){var Ai=this.children[Ab],Ag=Ai.chunkSize();if(Ac<=Ag){Ai.insertHeight(Ac,Ae,Aj);if(Ai.lines&&Ai.lines.length>50){while(Ai.lines.length>50){var Ad=Ai.lines.splice(Ai.lines.length-25,25);var Ah=new T(Ad);Ai.height-=Ah.height;this.children.splice(Ab+1,0,Ah);Ah.parent=this}this.maybeSpill()}break}Ac-=Ag}},maybeSpill:function(){if(this.children.length<=10){return}var Af=this;do{var Ab=Af.children.splice(Af.children.length-5,5);var Ae=new Y(Ab);if(!Af.parent){var Ad=new Y(Af.children);Ad.parent=Af;Af.children=[Ad,Ae];Af=Ad}else{Af.size-=Ae.size;Af.height-=Ae.height;var Ac=l(Af.parent.children,Af);Af.parent.children.splice(Ac+1,0,Ae)}Ae.parent=Af.parent}while(Af.children.length>10);Af.parent.maybeSpill()},iter:function(Ab,Ac,Ad){this.iterN(Ab,Ac-Ab,Ad)},iterN:function(Ac,Ad,Ae){for(var Ab=0,Af=this.children.length;Ab<Af;++Ab){var Ai=this.children[Ab],Ag=Ai.chunkSize();if(Ac<Ag){var Ah=Math.min(Ad,Ag-Ac);if(Ai.iterN(Ac,Ah,Ae)){return true}if((Ad-=Ah)==0){break}Ac=0}else{Ac-=Ag}}}};function k(Ae,Ab){while(!Ae.lines){for(var Ad=0;;++Ad){var Ac=Ae.children[Ad],Af=Ac.chunkSize();if(Ab<Af){Ae=Ac;break}Ab-=Af}}return Ae.lines[Ab]}function J(Ad){if(Ad.parent==null){return null}var Ag=Ad.parent,Ab=l(Ag.lines,Ad);for(var Af=Ag.parent;Af;Ag=Af,Af=Af.parent){for(var Ae=0,Ac=Af.children.length;;++Ae){if(Af.children[Ae]==Ag){break}Ab+=Af.children[Ae].chunkSize()}}return Ab}function C(Ae,Aj){var Ad=0;outer:do{for(var Ab=0,Ag=Ae.children.length;Ab<Ag;++Ab){var Ai=Ae.children[Ab],Ah=Ai.height;if(Aj<Ah){Ae=Ai;continue outer}Aj-=Ah;Ad+=Ai.chunkSize()}return Ad}while(!Ae.lines);for(var Ab=0,Ag=Ae.lines.length;Ab<Ag;++Ab){var Ac=Ae.lines[Ab],Af=Ac.height;if(Aj<Af){break}Aj-=Af}return Ad+Ab}function Q(Ag,Ab){var Ae=0;outer:do{for(var Af=0,Ad=Ag.children.length;Af<Ad;++Af){var Ac=Ag.children[Af],Ah=Ac.chunkSize();if(Ab<Ah){Ag=Ac;continue outer}Ab-=Ah;Ae+=Ac.height}return Ae}while(!Ag.lines);for(var Af=0;Af<Ab;++Af){Ae+=Ag.lines[Af].height}return Ae}function r(){this.time=0;this.done=[];this.undone=[]}r.prototype={addChange:function(Af,Ai,Ac){this.undone.length=0;var Ag=+new Date,Ah=this.done[this.done.length-1];if(Ag-this.time>400||!Ah||Ah.start>Af+Ai||Ah.start+Ah.added<Af-Ah.added+Ah.old.length){this.done.push({start:Af,added:Ai,old:Ac})}else{var Ad=0;if(Af<Ah.start){for(var Ab=Ah.start-Af-1;Ab>=0;--Ab){Ah.old.unshift(Ac[Ab])}Ah.added+=Ah.start-Af;Ah.start=Af}else{if(Ah.start<Af){Ad=Af-Ah.start;Ai+=Ad}}for(var Ab=Ah.added-Ad,Ae=Ac.length;Ab<Ae;++Ab){Ah.old.push(Ac[Ab])}if(Ah.added<Ai){Ah.added=Ai}}this.time=Ag}};function Z(){w(this)}function G(Ab){if(!Ab.stop){Ab.stop=Z}return Ab}function d(Ab){if(Ab.preventDefault){Ab.preventDefault()}else{Ab.returnValue=false}}function x(Ab){if(Ab.stopPropagation){Ab.stopPropagation()}else{Ab.cancelBubble=true}}function w(Ab){d(Ab);x(Ab)}H.e_stop=w;H.e_preventDefault=d;H.e_stopPropagation=x;function M(Ab){return Ab.target||Ab.srcElement}function I(Ab){if(Ab.which){return Ab.which}else{if(Ab.button&1){return 1}else{if(Ab.button&2){return 3}else{if(Ab.button&4){return 2}}}}}function p(Af,Ae,Ad,Ac){if(typeof Af.addEventListener=="function"){Af.addEventListener(Ae,Ad,false);if(Ac){return function(){Af.removeEventListener(Ae,Ad,false)}}}else{var Ab=function(Ag){Ad(Ag||window.event)};Af.attachEvent("on"+Ae,Ab);if(Ac){return function(){Af.detachEvent("on"+Ae,Ab)}}}}H.connect=p;function m(){this.id=null}m.prototype={set:function(Ab,Ac){clearTimeout(this.id);this.id=setTimeout(Ac,Ab)}};var g=function(){if(/MSIE [1-8]\b/.test(navigator.userAgent)){return false}var Ab=document.createElement("div");return"draggable" in Ab}();var a=/gecko\/\d{7}/i.test(navigator.userAgent);var P=/MSIE \d/.test(navigator.userAgent);var c=/WebKit\//.test(navigator.userAgent);var i="\n";(function(){var Ab=document.createElement("textarea");Ab.value="foo\nbar";if(Ab.value.indexOf("\r")>-1){i="\r\n"}}());function E(Ad,Ae,Ac){if(Ae==null){Ae=Ad.search(/[^\s\u00a0]/);if(Ae==-1){Ae=Ad.length}}for(var Af=0,Ab=0;Af<Ae;++Af){if(Ad.charAt(Af)=="\t"){Ab+=Ac-(Ab%Ac)}else{++Ab}}return Ab}function N(Ab){if(Ab.currentStyle){return Ab.currentStyle}return window.getComputedStyle(Ab,null)}function b(Ab,Aj){var Ah=Ab.ownerDocument.body;var Ae=0,Af=0,Ag=false;for(var Ad=Ab;Ad;Ad=Ad.offsetParent){var Ac=Ad.offsetLeft,Ak=Ad.offsetTop;if(Ad==Ah){Ae+=Math.abs(Ac);Af+=Math.abs(Ak)}else{Ae+=Ac,Af+=Ak}if(Aj&&N(Ad).position=="fixed"){Ag=true}}var Ai=Aj&&!Ag?null:Ah;for(var Ad=Ab.parentNode;Ad!=Ai;Ad=Ad.parentNode){if(Ad.scrollLeft!=null){Ae-=Ad.scrollLeft;Af-=Ad.scrollTop}}return{left:Ae,top:Af}}if(document.documentElement.getBoundingClientRect!=null){b=function(Af,Ab){try{var Ad=Af.getBoundingClientRect();Ad={top:Ad.top,left:Ad.left}}catch(Ae){Ad={top:0,left:0}}if(!Ab){if(window.pageYOffset==null){var Ac=document.documentElement||document.body.parentNode;if(Ac.scrollTop==null){Ac=document.body}Ad.top+=Ac.scrollTop;Ad.left+=Ac.scrollLeft}else{Ad.top+=window.pageYOffset;Ad.left+=window.pageXOffset}}return Ad}}function y(Ab){return Ab.textContent||Ab.innerText||Ab.nodeValue||""}function D(Ab,Ac){return Ab.line==Ac.line&&Ab.ch==Ac.ch}function V(Ab,Ac){return Ab.line<Ac.line||(Ab.line==Ac.line&&Ab.ch<Ac.ch)}function F(Ab){return{line:Ab.line,ch:Ab.ch}}var B=document.createElement("pre");function f(Ab){B.textContent=Ab;return B.innerHTML}if(f("a")=="\na"){f=function(Ab){B.textContent=Ab;return B.innerHTML.slice(1)}}else{if(f("\t")!="\t"){f=function(Ab){B.innerHTML="";B.appendChild(document.createTextNode(Ab));return B.innerHTML}}}H.htmlEscape=f;function Aa(Ab,Ac){if(!Ac){return Ab?Ab.length:0}if(!Ab){return Ac.length}for(var Ad=Ab.length,Ae=Ac.length;Ad>=0&&Ae>=0;--Ad,--Ae){if(Ab.charAt(Ad)!=Ac.charAt(Ae)){break}}return Ae+1}function l(Ab,Ac){if(Ab.indexOf){return Ab.indexOf(Ac)}for(var Ad=0,Ae=Ab.length;Ad<Ae;++Ad){if(Ab[Ad]==Ac){return Ad}}return -1}function o(Ab){return/\w/.test(Ab)||Ab.toUpperCase()!=Ab.toLowerCase()}var t="\n\nb".split(/\n/).length!=3?function(Ac){var Ad=0,Ae,Ab=[];while((Ae=Ac.indexOf("\n",Ad))>-1){Ab.push(Ac.slice(Ad,Ac.charAt(Ae-1)=="\r"?Ae-1:Ae));Ad=Ae+1}Ab.push(Ac.slice(Ad));return Ab}:function(Ab){return Ab.split(/\r?\n/)};H.splitLines=t;var e=window.getSelection?function(Ab){try{return Ab.selectionStart!=Ab.selectionEnd}catch(Ac){return false}}:function(Ac){try{var Ab=Ac.ownerDocument.selection.createRange()}catch(Ad){}if(!Ab||Ab.parentElement()!=Ac){return false}return Ab.compareEndPoints("StartToEnd",Ab)!=0};H.defineMode("null",function(){return{token:function(Ab){Ab.skipToEnd()}}});H.defineMIME("text/plain","null");var O={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};H.keyNames=O;(function(){for(var Ab=0;Ab<10;Ab++){O[Ab+48]=String(Ab)}for(var Ab=65;Ab<=90;Ab++){O[Ab]=String.fromCharCode(Ab)}for(var Ab=1;Ab<=12;Ab++){O[Ab+111]=O[Ab+63235]="F"+Ab}})();return H})();CodeMirror.defineMode("xml",function(D,U){var Q=D.indentUnit;var E=U.htmlMode?{autoSelfClosers:{"br":true,"img":true,"hr":true,"link":true,"input":true,"meta":true,"col":true,"frame":true,"base":true,"area":true},doNotIndent:{"pre":true},allowUnquoted:true}:{autoSelfClosers:{},doNotIndent:{},allowUnquoted:false};var O=U.alignCDATA;var L,B;function J(Y,d){function Z(c){d.tokenize=c;return c(Y,d)}var b=Y.next();if(b=="<"){if(Y.eat("!")){if(Y.eat("[")){if(Y.match("CDATA[")){return Z(I("atom","]]>"))}else{return null}}else{if(Y.match("--")){return Z(I("comment","-->"))}else{if(Y.match("DOCTYPE",true,true)){Y.eatWhile(/[\w\._\-]/);return Z(R(1))}else{return null}}}}else{if(Y.eat("?")){Y.eatWhile(/[\w\._\-]/);d.tokenize=I("meta","?>");return"meta"}else{B=Y.eat("/")?"closeTag":"openTag";Y.eatSpace();L="";var a;while((a=Y.eat(/[^\s\u00a0=<>\"\'\/?]/))){L+=a}d.tokenize=P;return"tag"}}}else{if(b=="&"){Y.eatWhile(/[^;]/);Y.eat(";");return"atom"}else{Y.eatWhile(/[^&<]/);return null}}}function P(Y,a){var Z=Y.next();if(Z==">"||(Z=="/"&&Y.eat(">"))){a.tokenize=J;B=Z==">"?"endTag":"selfcloseTag";return"tag"}else{if(Z=="="){B="equals";return null}else{if(/[\'\"]/.test(Z)){a.tokenize=N(Z);return a.tokenize(Y,a)}else{Y.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);return"word"}}}}function N(Y){return function(Z,a){while(!Z.eol()){if(Z.next()==Y){a.tokenize=P;break}}return"string"}}function I(Z,Y){return function(a,b){while(!a.eol()){if(a.match(Y)){b.tokenize=J;break}a.next()}return Z}}function R(Y){return function(Z,b){var a;while((a=Z.next())!=null){if(a=="<"){b.tokenize=R(Y+1);return b.tokenize(Z,b)}else{if(a==">"){if(Y==1){b.tokenize=J;break}else{b.tokenize=R(Y-1);return b.tokenize(Z,b)}}}}return"meta"}}var G,T;function S(){for(var Y=arguments.length-1;Y>=0;Y--){G.cc.push(arguments[Y])}}function W(){S.apply(null,arguments);return true}function M(a,Y){var Z=E.doNotIndent.hasOwnProperty(a)||(G.context&&G.context.noIndent);G.context={prev:G.context,tagName:a,indent:G.indented,startOfLine:Y,noIndent:Z}}function C(){if(G.context){G.context=G.context.prev}}function K(Y){if(Y=="openTag"){G.tagName=L;return W(H,V(G.startOfLine))}else{if(Y=="closeTag"){var Z=false;if(G.context){Z=G.context.tagName!=L}else{Z=true}if(Z){T="error"}return W(F(Z))}}return W()}function V(Y){return function(Z){if(Z=="selfcloseTag"||(Z=="endTag"&&E.autoSelfClosers.hasOwnProperty(G.tagName.toLowerCase()))){return W()}if(Z=="endTag"){M(G.tagName,Y);return W()}return W()}}function F(Y){return function(Z){if(Y){T="error"}if(Z=="endTag"){C();return W()}T="error";return W(arguments.callee)}}function H(Y){if(Y=="word"){T="attribute";return W(H)}if(Y=="equals"){return W(A,H)}if(Y=="string"){T="error";return W(H)}return S()}function A(Y){if(Y=="word"&&E.allowUnquoted){T="string";return W()}if(Y=="string"){return W(X)}return S()}function X(Y){if(Y=="string"){return W(X)}else{return S()}}return{startState:function(){return{tokenize:J,cc:[],indented:0,startOfLine:true,tagName:null,context:null}},token:function(Y,b){if(Y.sol()){b.startOfLine=true;b.indented=Y.indentation()}if(Y.eatSpace()){return null}T=B=L=null;var a=b.tokenize(Y,b);b.type=B;if((a||B)&&a!="comment"){G=b;while(true){var Z=b.cc.pop()||K;if(Z(B||a)){break}}}b.startOfLine=false;return T||a},indent:function(Y,b,Z){var a=Y.context;if((Y.tokenize!=P&&Y.tokenize!=J)||a&&a.noIndent){return Z?Z.match(/^(\s*)/)[0].length:0}if(O&&/<!\[CDATA\[/.test(b)){return 0}if(a&&/^<\//.test(b)){a=a.prev}while(a&&!a.startOfLine){a=a.prev}if(a){return a.indent+Q}else{return 0}},compareStates:function(c,d){if(c.indented!=d.indented||c.tokenize!=d.tokenize){return false}for(var Z=c.context,Y=d.context;;Z=Z.prev,Y=Y.prev){if(!Z||!Y){return Z==Y}if(Z.tagName!=Y.tagName){return false}}},electricChars:"/"}});CodeMirror.defineMIME("application/xml","xml");CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:true});CodeMirror.defineMode("javascript",function(e,Z){var l=e.indentUnit;var Q=Z.json;var M=function(){function u(z){return{type:z,style:"keyword"}}var v=u("keyword a"),w=u("keyword b"),x=u("keyword c");var y=u("operator"),t={type:"atom",style:"atom"};return{"if":v,"while":v,"with":v,"else":w,"do":w,"try":w,"finally":w,"return":x,"break":x,"continue":x,"new":x,"delete":x,"throw":x,"var":u("var"),"const":u("var"),"let":u("var"),"function":u("function"),"catch":u("catch"),"for":u("for"),"switch":u("switch"),"case":u("case"),"default":u("default"),"in":y,"typeof":y,"instanceof":y,"true":t,"false":t,"null":t,"undefined":t,"NaN":t,"Infinity":t}}();var F=/[+\-*&%=<>!?|]/;function V(t,v,u){v.tokenize=u;return u(t,v)}function f(t,v){var u=false,w;while((w=t.next())!=null){if(w==v&&!u){return false}u=!u&&w=="\\"}return u}var G,H;function q(v,t,u){G=v;H=u;return t}function R(t,w){var u=t.next();if(u=='"'||u=="'"){return V(t,w,L(u))}else{if(/[\[\]{}\(\),;\:\.]/.test(u)){return q(u)}else{if(u=="0"&&t.eat(/x/i)){t.eatWhile(/[\da-f]/i);return q("number","number")}else{if(/\d/.test(u)){t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return q("number","number")}else{if(u=="/"){if(t.eat("*")){return V(t,w,k)}else{if(t.eat("/")){t.skipToEnd();return q("comment","comment")}else{if(w.reAllowed){f(t,"/");t.eatWhile(/[gimy]/);return q("regexp","string")}else{t.eatWhile(F);return q("operator",null,t.current())}}}}else{if(u=="#"){t.skipToEnd();return q("error","error")}else{if(F.test(u)){t.eatWhile(F);return q("operator",null,t.current())}else{t.eatWhile(/[\w\$_]/);var v=t.current(),x=M.propertyIsEnumerable(v)&&M[v];return(x&&w.kwAllowed)?q(x.type,x.style,v):q("variable","variable",v)}}}}}}}}function L(t){return function(u,v){if(!f(u,t)){v.tokenize=R}return q("string","string")}}function k(t,w){var u=false,v;while(v=t.next()){if(v=="/"&&u){w.tokenize=R;break}u=(v=="*")}return q("comment","comment")}var W={"atom":true,"number":true,"variable":true,"string":true,"regexp":true};function r(x,y,w,u,t,v){this.indented=x;this.column=y;this.type=w;this.prev=t;this.info=v;if(u!=null){this.align=u}}function S(t,w){for(var u=t.localVars;u;u=u.next){if(u.name==w){return true}}}function s(t,v,x,u,z){var y=t.cc;U.state=t;U.stream=z;U.marked=null,U.cc=y;if(!t.lexical.hasOwnProperty("align")){t.lexical.align=true}while(true){var w=y.length?y.pop():Q?n:E;if(w(x,u)){while(y.length&&y[y.length-1].lex){y.pop()()}if(U.marked){return U.marked}if(x=="variable"&&S(t,u)){return"variable-2"}return v}}}var U={state:null,column:null,marked:null,cc:null};function h(){for(var t=arguments.length-1;t>=0;t--){U.cc.push(arguments[t])}}function C(){h.apply(null,arguments);return true}function J(w){var t=U.state;if(t.context){U.marked="def";for(var u=t.localVars;u;u=u.next){if(u.name==w){return}}t.localVars={name:w,next:t.localVars}}}var a={name:"this",next:{name:"arguments"}};function D(){if(!U.state.context){U.state.localVars=a}U.state.context={prev:U.state.context,vars:U.state.localVars}}function m(){U.state.localVars=U.state.context.vars;U.state.context=U.state.context.prev}function B(u,v){var t=function(){var w=U.state;w.lexical=new r(w.indented,U.stream.column(),u,null,w.lexical,v)};t.lex=true;return t}function j(){var t=U.state;if(t.lexical.prev){if(t.lexical.type==")"){t.indented=t.lexical.indented}t.lexical=t.lexical.prev}}j.lex=true;function N(u){return function t(v){if(v==u){return C()}else{if(u==";"){return h()}else{return C(arguments.callee)}}}}function E(t){if(t=="var"){return C(B("vardef"),T,N(";"),j)}if(t=="keyword a"){return C(B("form"),n,E,j)}if(t=="keyword b"){return C(B("form"),E,j)}if(t=="{"){return C(B("}"),c,j)}if(t==";"){return C()}if(t=="function"){return C(Y)}if(t=="for"){return C(B("form"),N("("),B(")"),X,N(")"),j,E,j)}if(t=="variable"){return C(B("stat"),g)}if(t=="switch"){return C(B("form"),n,B("}","switch"),N("{"),c,j,j)}if(t=="case"){return C(n,N(":"))}if(t=="default"){return C(N(":"))}if(t=="catch"){return C(B("form"),D,N("("),K,N(")"),E,j,m)}return h(B("stat"),n,N(";"),j)}function n(t){if(W.hasOwnProperty(t)){return C(I)}if(t=="function"){return C(Y)}if(t=="keyword c"){return C(A)}if(t=="("){return C(B(")"),n,N(")"),j,I)}if(t=="operator"){return C(n)}if(t=="["){return C(B("]"),b(n,"]"),j,I)}if(t=="{"){return C(B("}"),b(d,"}"),j,I)}return C()}function A(t){if(t.match(/[;\}\)\],]/)){return h()}return h(n)}function I(u,t){if(u=="operator"&&/\+\+|--/.test(t)){return C(I)}if(u=="operator"){return C(n)}if(u==";"){return}if(u=="("){return C(B(")"),b(n,")"),j,I)}if(u=="."){return C(P,I)}if(u=="["){return C(B("]"),n,N("]"),j,I)}}function g(t){if(t==":"){return C(j,E)}return h(I,N(";"),j)}function P(t){if(t=="variable"){U.marked="property";return C()}}function d(t){if(t=="variable"){U.marked="property"}if(W.hasOwnProperty(t)){return C(N(":"),n)}}function b(u,w){function v(x){if(x==","){return C(u,v)}if(x==w){return C()}return C(N(w))}return function t(x){if(x==w){return C()}else{return h(u,v)}}}function c(t){if(t=="}"){return C()}return h(E,c)}function T(u,t){if(u=="variable"){J(t);return C(o)}return C()}function o(u,t){if(t=="="){return C(n,o)}if(u==","){return C(T)}}function X(t){if(t=="var"){return C(T,i)}if(t==";"){return h(i)}if(t=="variable"){return C(O)}return h(i)}function O(u,t){if(t=="in"){return C(n)}return C(I,i)}function i(u,t){if(u==";"){return C(p)}if(t=="in"){return C(n)}return C(n,N(";"),p)}function p(t){if(t!=")"){C(n)}}function Y(u,t){if(u=="variable"){J(t);return C(Y)}if(u=="("){return C(B(")"),D,b(K,")"),j,E,m)}}function K(u,t){if(u=="variable"){J(t);return C()}}return{startState:function(t){return{tokenize:R,reAllowed:true,kwAllowed:true,cc:[],lexical:new r((t||0)-l,0,"block",false),localVars:null,context:null,indented:0}},token:function(t,v){if(t.sol()){if(!v.lexical.hasOwnProperty("align")){v.lexical.align=false}v.indented=t.indentation()}if(t.eatSpace()){return null}var u=v.tokenize(t,v);if(G=="comment"){return u}v.reAllowed=G=="operator"||G=="keyword c"||G.match(/^[\[{}\(,;:]$/);v.kwAllowed=G!=".";return s(v,u,G,H,t)},indent:function(t,x){if(t.tokenize!=R){return 0}var v=x&&x.charAt(0),w=t.lexical,u=w.type,y=v==u;if(u=="vardef"){return w.indented+4}else{if(u=="form"&&v=="{"){return w.indented}else{if(u=="stat"||u=="form"){return w.indented+l}else{if(w.info=="switch"&&!y){return w.indented+(/^(?:case|default)\b/.test(x)?l:2*l)}else{if(w.align){return w.column+(y?0:1)}else{return w.indented+(y?0:l)}}}}}},electricChars:":{}"}});CodeMirror.defineMIME("text/javascript","javascript");CodeMirror.defineMIME("application/json",{name:"javascript",json:true});CodeMirror.defineMode("css",function(G){var E=G.indentUnit,C;function B(I,J){C=J;return I}function H(I,K){var J=I.next();if(J=="@"){I.eatWhile(/[\w\\\-]/);return B("meta",I.current())}else{if(J=="/"&&I.eat("*")){K.tokenize=F;return F(I,K)}else{if(J=="<"&&I.eat("!")){K.tokenize=D;return D(I,K)}else{if(J=="="){B(null,"compare")}else{if((J=="~"||J=="|")&&I.eat("=")){return B(null,"compare")}else{if(J=='"'||J=="'"){K.tokenize=A(J);return K.tokenize(I,K)}else{if(J=="#"){I.eatWhile(/[\w\\\-]/);return B("atom","hash")}else{if(J=="!"){I.match(/^\s*\w*/);return B("keyword","important")}else{if(/\d/.test(J)){I.eatWhile(/[\w.%]/);return B("number","unit")}else{if(/[,.+>*\/]/.test(J)){return B(null,"select-op")}else{if(/[;{}:\[\]]/.test(J)){return B(null,J)}else{I.eatWhile(/[\w\\\-]/);return B("variable","variable")}}}}}}}}}}}}function F(I,L){var J=false,K;while((K=I.next())!=null){if(J&&K=="/"){L.tokenize=H;break}J=(K=="*")}return B("comment","comment")}function D(I,L){var J=0,K;while((K=I.next())!=null){if(J>=2&&K==">"){L.tokenize=H;break}J=(K=="-")?J+1:0}return B("comment","comment")}function A(I){return function(J,M){var K=false,L;while((L=J.next())!=null){if(L==I&&!K){break}K=!K&&L=="\\"}if(!K){M.tokenize=H}return B("string","string")}}return{startState:function(I){return{tokenize:H,baseIndent:I||0,stack:[]}},token:function(I,L){if(I.eatSpace()){return null}var J=L.tokenize(I,L);var K=L.stack[L.stack.length-1];if(C=="hash"&&K=="rule"){J="atom"}else{if(J=="variable"){if(K=="rule"){J="number"}else{if(!K||K=="@media{"){J="tag"}}}}if(K=="rule"&&/^[\{\};]$/.test(C)){L.stack.pop()}if(C=="{"){if(K=="@media"){L.stack[L.stack.length-1]="@media{"}else{L.stack.push("{")}}else{if(C=="}"){L.stack.pop()}else{if(C=="@media"){L.stack.push("@media")}else{if(K=="{"&&C!="comment"){L.stack.push("rule")}}}}return J},indent:function(I,K){var J=I.stack.length;if(/^\}/.test(K)){J-=I.stack[I.stack.length-1]=="rule"?2:1}return I.baseIndent+J*E},electricChars:"}"}});CodeMirror.defineMIME("text/css","css");CodeMirror.defineMode("htmlmixed",function(H,E){var A=CodeMirror.getMode(H,{name:"xml",htmlMode:true});var C=CodeMirror.getMode(H,"javascript");var D=CodeMirror.getMode(H,"css");function B(J,L){var K=A.token(J,L.htmlState);if(K=="tag"&&J.current()==">"&&L.htmlState.context){if(/^script$/i.test(L.htmlState.context.tagName)){L.token=F;L.localState=C.startState(A.indent(L.htmlState,""));L.mode="javascript"}else{if(/^style$/i.test(L.htmlState.context.tagName)){L.token=G;L.localState=D.startState(A.indent(L.htmlState,""));L.mode="css"}}}return K}function I(J,L,K){var N=J.current();var M=N.search(L);if(M>-1){J.backUp(N.length-M)}return K}function F(J,K){if(J.match(/^<\/\s*script\s*>/i,false)){K.token=B;K.curState=null;K.mode="html";return B(J,K)}return I(J,/<\/\s*script\s*>/,C.token(J,K.localState))}function G(J,K){if(J.match(/^<\/\s*style\s*>/i,false)){K.token=B;K.localState=null;K.mode="html";return B(J,K)}return I(J,/<\/\s*style\s*>/,D.token(J,K.localState))}return{startState:function(){var J=A.startState();return{token:B,localState:null,mode:"html",htmlState:J}},copyState:function(J){if(J.localState){var K=CodeMirror.copyState(J.token==G?D:C,J.localState)}return{token:J.token,localState:K,mode:J.mode,htmlState:CodeMirror.copyState(A,J.htmlState)}},token:function(J,K){return K.token(J,K)},indent:function(J,K){if(J.token==B||/^\s*<\//.test(K)){return A.indent(J.htmlState,K)}else{if(J.token==F){return C.indent(J.localState,K)}else{return D.indent(J.localState,K)}}},compareStates:function(J,K){return A.compareStates(J.htmlState,K.htmlState)},electricChars:"/{}:"}});CodeMirror.defineMIME("text/html","htmlmixed");